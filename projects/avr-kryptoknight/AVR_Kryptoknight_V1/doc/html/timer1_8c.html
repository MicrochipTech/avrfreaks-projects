<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>AVR-Kryptoknight: timer1.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>timer1.c File Reference</h1><code>#include "<a class="el" href="define_8h-source.html">define.h</a>"</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer1_8c.html#a0">SIGNAL</a> (SIG_INPUT_CAPTURE1)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer1_8c.html#a1">timer1_Activate</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a2" doxytag="timer1.c::timer1_DeActivate"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="timer1_8c.html#a2">timer1_DeActivate</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disable timer1 input capture interrupts. <br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Here some routines are defined to control timer1 <hr><h2>Function Documentation</h2>
<a class="anchor" name="a0" doxytag="timer1.c::SIGNAL"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">SIGNAL           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">SIG_INPUT_CAPTURE1&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Interrupt service routine of input capture on timer1 generating 32-bit random-numbers. When a falling edge on ICP1 occurs, the value of timer1 is copied to the ICR1 register and this signal input capture interrupt is triggered. This ISR then resets timer1. The result is that ICR1 always contains the time between two input capture interrupts, i.e. the period. Period N, is compared to the period N-2 of two interrupts ago. If period N-2 &lt; period N then shift in a one in our random dword, otherwise shift in a zero. After 32 bits are shift in, the waittimer1-flag is set. The ICP-pin of the microcontroller is connected to a simple astable multivibrator, consisting of two NOT-ports, two resistors and two capacitors. The small variations in the period of such a square-wave generator are the basis for the randomness of this hardware random number generator.     </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="timer1.c::timer1_Activate"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void timer1_Activate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Activate timer1: normal operation (no PWM), interrupts on falling edge of IP1, IRQ on input capture     </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Wed Jun 1 20:52:33 2005 for AVR-Kryptoknight by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.2 </small></address>
</body>
</html>
