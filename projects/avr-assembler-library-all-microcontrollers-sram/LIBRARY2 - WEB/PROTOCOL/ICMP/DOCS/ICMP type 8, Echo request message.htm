<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0056)http://www.networksorcery.com/enp/protocol/icmp/msg8.htm -->
<HTML><HEAD><TITLE>ICMP type 8, Echo request message</TITLE>
<META http-equiv=Content-Type content="text/html; charset=iso-8859-1"><LINK 
href="ICMP type 8, Echo request message_arquivos/page.css" type=text/css 
rel=stylesheet>
<SCRIPT language=jscript 
src="ICMP type 8, Echo request message_arquivos/global.js"></SCRIPT>

<META content="rfcsourcebook, protocol, ICMP" name=keywords>
<META content=FrontPage.Editor.Document name=ProgId>
<META content="MSHTML 6.00.2900.2769" name=GENERATOR></HEAD>
<BODY>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=2>
  <TBODY>
  <TR>
    <TD class=pagetitle>ICMP type 8, Echo request message</TD></TR></TBODY></TABLE>
<HR>

<TABLE width="100%" bgColor=white border=0>
  <TBODY>
  <TR>
    <TD><A 
      href="http://www.networksorcery.com/enp/protocol/icmp/msg8.htm#Description">Description</A></TD>
    <TD><A 
      href="http://www.networksorcery.com/enp/protocol/icmp/msg8.htm#Glossary">Glossary</A></TD>
    <TD><A 
      href="http://www.networksorcery.com/enp/protocol/icmp/msg8.htm#RFCs">RFCs</A></TD>
    <TD><A 
      href="http://www.networksorcery.com/enp/protocol/icmp/msg8.htm#Publications">Publications</A></TD>
    <TD><A 
      href="http://www.networksorcery.com/enp/protocol/icmp/msg8.htm#Obsolete RFCs">Obsolete 
      RFCs</A></TD></TR></TBODY></TABLE>
<HR>

<P><B><A name=Description>Description</A>:</B></P>
<TABLE class=datatbl cellSpacing=0 border=1>
  <TBODY>
  <TR>
    <TH>&nbsp;</TH>
    <TH>Implementation</TH></TR>
  <TR>
    <TH align=left>Host</TH>
    <TD>Mandatory.</TD></TR>
  <TR>
    <TH align=left>Router</TH>
    <TD>Mandatory.</TD></TR></TBODY></TABLE>
<P>The Identifier, sequence number and data fields should be returned to the 
sender unaltered</P>
<P>RFC 792, page 15:</P>
<BLOCKQUOTE>
  <P>The data received in the echo request message must be returned in the echo 
  reply message.</P>
  <P>The identifier and sequence number may be used by the echo sender to aid in 
  matching the replies with the echo requests. For example, the identifier might 
  be used like a port in TCP or UDP to identify a session, and the sequence 
  number might be incremented on each echo request sent. The echoer returns 
  these same values in the echo reply.</P>
  <P>Code 0 may be received from a gateway or a host.</P></BLOCKQUOTE>
<HR>

<P><B>Packet format:</B></P>
<TABLE class=packetheader border=1>
  <TBODY>
  <TR>
    <TH>00</TH>
    <TH>01</TH>
    <TH>02</TH>
    <TH>03</TH>
    <TH>04</TH>
    <TH>05</TH>
    <TH>06</TH>
    <TH>07</TH>
    <TH>08</TH>
    <TH>09</TH>
    <TH>10</TH>
    <TH>11</TH>
    <TH>12</TH>
    <TH>13</TH>
    <TH>14</TH>
    <TH>15</TH>
    <TH>16</TH>
    <TH>17</TH>
    <TH>18</TH>
    <TH>19</TH>
    <TH>20</TH>
    <TH>21</TH>
    <TH>22</TH>
    <TH>23</TH>
    <TH>24</TH>
    <TH>25</TH>
    <TH>26</TH>
    <TH>27</TH>
    <TH>28</TH>
    <TH>29</TH>
    <TH>30</TH>
    <TH>31</TH></TR>
  <TR>
    <TD class=pktconst colSpan=8>Type</TD>
    <TD class=pktconst colSpan=8>Code</TD>
    <TD class=pkthdr colSpan=16>ICMP header checksum</TD></TR>
  <TR>
    <TD class=pkthdr colSpan=16>Identifier</TD>
    <TD class=pkthdr colSpan=16>Sequence number</TD></TR>
  <TR>
    <TD class=pktvarlen colSpan=32>Data :::</TD></TR></TBODY></TABLE>
<P><B>Type.</B> 8 bits. Set to 8.</P>
<P><B>Code.</B> 8 bits. Set to 0.</P>
<P><B>ICMP Header Checksum.</B> 16 bits.<BR>The 16-bit one's complement of the 
one's complement sum of the ICMP message, starting with the ICMP Type field. 
When the checksum is computed, the checksum field should first be set to 0. When 
the data packet is transmitted, the checksum is computed and inserted into this 
field. When the data packet is received, the checksum is again computed and 
verified against the checksum field. If the two checksums do not match then an 
error has occurred.</P>
<P><B>Identifier.</B> 16 bits.<BR>This field is used to help match echo requests 
to the associated reply. It may be set to zero.</P>
<P><B>Sequence number.</B> 16 bits.<BR>This field is used to help match echo 
requests to the associated reply. It may be zero.</P>
<P><B>Data.</B> Variable length.<BR>Implementation specific data.</P>
<HR>

<P><B>Host Implementation:</B></P>
<P>RFC 1122, page 42:</P>
<BLOCKQUOTE>
  <P>Every host MUST implement an ICMP Echo server function that receives Echo 
  Requests and sends corresponding Echo Replies.</P>
  <P>A host SHOULD also implement an application-layer interface for sending an 
  Echo Request and receiving an Echo Reply, for diagnostic purposes.</P>
  <P>An ICMP Echo Request destined to an IP broadcast or IP multicast address 
  MAY be silently discarded.</P></BLOCKQUOTE>
<HR>

<P><B>Router Implementation:</B></P>
<P>RFC 1812, pages 58 and 59:</P>
<BLOCKQUOTE>
  <P>A router MUST implement an ICMP Echo server function that receives Echo 
  Requests sent to the router, and sends corresponding Echo Replies. A router 
  MUST be prepared to receive, reassemble and echo an ICMP Echo Request datagram 
  at least as the maximum of 576 and the MTUs of all the connected networks.</P>
  <P>The Echo server function MAY choose not to respond to ICMP echo requests 
  addressed to IP broadcast or IP multicast addresses.</P>
  <P>A router SHOULD have a configuration option that, if enabled, causes the 
  router to silently ignore all ICMP echo requests; if provided, this option 
  MUST default to allowing responses.</P>
  <P>A router MUST also implement a user/application-layer interface for sending 
  an Echo Request and receiving an Echo Reply, for diagnostic purposes. All ICMP 
  Echo Reply messages MUST be passed to this interface.</P>
  <P>The IP source address in an ICMP Echo Reply MUST be the same as the 
  specific-destination address of the corresponding ICMP Echo Request 
  message.</P>
  <P>Data received in an ICMP Echo Request MUST be entirely included in the 
  resulting Echo Reply.</P>
  <P>If a Record Route and/or Timestamp option is received in an ICMP Echo 
  Request, this option (these options) SHOULD be updated to include the current 
  router and included in the IP header of the Echo Reply message, without 
  truncation. Thus, the recorded route will be for the entire round trip.</P>
  <P>If a Source Route option is received in an ICMP Echo Request, the return 
  route MUST be reversed and used as a Source Route option for the Echo Reply 
  message, unless the router is aware of policy that would prevent the delivery 
  of the message.</P></BLOCKQUOTE>
<HR>

<P><B><A name=RFCs>RFCs</A>:</B></P>
<P><B>[<A href="http://www.networksorcery.com/enp/RFC/Rfc792.txt">RFC 
792</A>]</B> Internet Control Message Protocol.</P>
<P><B>[<A href="http://www.networksorcery.com/enp/rfc/rfc1122.txt">RFC 
1122</A>]</B> Requirements for Internet Hosts -- Communication Layers.</P>
<P><B>[<A href="http://www.networksorcery.com/enp/rfc/rfc1812.txt">RFC 
1812</A>]</B> Requirements for IP Version 4 Routers.</P>
<UL>
  <LI>Obsoletes: <A href="http://www.networksorcery.com/enp/RFC/Rfc1009.txt">RFC 
  1009</A>, <A href="http://www.networksorcery.com/enp/RFC/Rfc1716.txt">RFC 
  1716.</A> </LI></UL>
<HR>

<P><B><A name="Obsolete RFCs">Obsolete RFCs</A>:</B></P>
<P><B>[<A href="http://www.networksorcery.com/enp/RFC/Rfc1009.txt">RFC 
1009</A>]</B> Requirements for Internet Gateways.</P>
<P><B>[<A href="http://www.networksorcery.com/enp/rfc/rfc1716.txt">RFC 
1716</A>]</B> Towards Requirements for IP Routers.</P>
<HR>

<TABLE width="100%" bgColor=white border=0>
  <TBODY>
  <TR>
    <TD><A 
      href="http://www.networksorcery.com/enp/protocol/icmp/msg8.htm#Description">Description</A></TD>
    <TD><A 
      href="http://www.networksorcery.com/enp/protocol/icmp/msg8.htm#Glossary">Glossary</A></TD>
    <TD><A 
      href="http://www.networksorcery.com/enp/protocol/icmp/msg8.htm#RFCs">RFCs</A></TD>
    <TD><A 
      href="http://www.networksorcery.com/enp/protocol/icmp/msg8.htm#Publications">Publications</A></TD>
    <TD><A 
      href="http://www.networksorcery.com/enp/protocol/icmp/msg8.htm#Obsolete RFCs">Obsolete 
      RFCs</A></TD></TR></TBODY></TABLE>
<HR>

<SCRIPT language=jscript>copyrightnetworksorcery();</SCRIPT>
</BODY></HTML>
