<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>SST: sst_intern.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<h1>sst_intern.h File Reference</h1>A header file with definitions used by teh SST implementation. <a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="sst__event_8h.html">sst_event.h</a>&gt;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sst__intern_8h.html#534e46f75f8824d7f609f41e69d51d4a">SST_MIN_INT_PRIO</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The lowest priority for an ISR.  <a href="#534e46f75f8824d7f609f41e69d51d4a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sst__intern_8h.html#ae26507a3b774917892a5c2e101274f4">SST_TASK_BROADCAST_ID</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A special task ID used as a broadcast ID (e.g. <a class="el" href="sst_8h.html#4f8fd4af0f0cb0e90e17c8fa1b3f8470">SST_PostEvent</a>).  <a href="#ae26507a3b774917892a5c2e101274f4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sst__intern_8h.html#3019c51191b97314f308c2d10ebe894d">SST_BAD_TASK_ID</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A bad task ID used to communicate problems (e.g. <a class="el" href="sst_8h.html#573abf104045f1163f028bc02f445ba1">SST_CreateTask</a>).  <a href="#3019c51191b97314f308c2d10ebe894d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sst__intern_8h.html#818608f0b5053f5e0ee9b25c0efe66a9">SST_DECLARE_INT_USAGE</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro declares variables needed to keep interrupt state.  <a href="#818608f0b5053f5e0ee9b25c0efe66a9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sst__intern_8h.html#3ad2d9067dd414c1d9d11ab54b0fdc26">SST_DECLARE_ISR</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro is used to declare that given ISR will use SST interrupt API like # SST_ISR_ENTRY and <a class="el" href="sst__intern_8h.html#2ae07f6058627d0ea67dc64c91e97129">SST_ISR_EXIT</a>.  <a href="#3ad2d9067dd414c1d9d11ab54b0fdc26"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="cd214041afe4c6326ba77981be6685fe"></a><!-- doxytag: member="sst_intern.h::SST_INT_LOCK" ref="cd214041afe4c6326ba77981be6685fe" args="()" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sst__intern_8h.html#cd214041afe4c6326ba77981be6685fe">SST_INT_LOCK</a>()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro unconditionally disables interrupts. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c8d541f772823c2ef0be55d7f1930470"></a><!-- doxytag: member="sst_intern.h::SST_INT_UNLOCK" ref="c8d541f772823c2ef0be55d7f1930470" args="()" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sst__intern_8h.html#c8d541f772823c2ef0be55d7f1930470">SST_INT_UNLOCK</a>()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro unconditionally enables interrupts. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="33e03121c6d9d7dce19c3435514a948f"></a><!-- doxytag: member="sst_intern.h::SST_INT_LOCK_AND_SAVE" ref="33e03121c6d9d7dce19c3435514a948f" args="()" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sst__intern_8h.html#33e03121c6d9d7dce19c3435514a948f">SST_INT_LOCK_AND_SAVE</a>()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro saves global interrupt enable flag and unconditionally disables interrupts. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ce70412f2a3133b6e5d5bb6b528503b2"></a><!-- doxytag: member="sst_intern.h::SST_INT_LOCK_RESTORE" ref="ce70412f2a3133b6e5d5bb6b528503b2" args="()" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sst__intern_8h.html#ce70412f2a3133b6e5d5bb6b528503b2">SST_INT_LOCK_RESTORE</a>()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro restores state of the global interrupt enable flag (previously saved by <a class="el" href="sst__intern_8h.html#33e03121c6d9d7dce19c3435514a948f">SST_INT_LOCK_AND_SAVE</a>). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sst__intern_8h.html#14f5d75172e06770be7b9c5a4a04e03e">SST_ISR_ENTRY</a>(isr_prio)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro reenables interrupts inside ISR.  <a href="#14f5d75172e06770be7b9c5a4a04e03e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2ae07f6058627d0ea67dc64c91e97129"></a><!-- doxytag: member="sst_intern.h::SST_ISR_EXIT" ref="2ae07f6058627d0ea67dc64c91e97129" args="()" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sst__intern_8h.html#2ae07f6058627d0ea67dc64c91e97129">SST_ISR_EXIT</a>()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro marks the end of an ISR. <br></td></tr>
<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1ea52fd8fe6e7118999e3c04f3753b2b"></a><!-- doxytag: member="sst_intern.h::SST_TaskID_T" ref="1ea52fd8fe6e7118999e3c04f3753b2b" args="" -->
typedef <a class="el" href="sst__base__def_8h.html#24d4221cdd204d79e5229dfa493e0159">CPU_Base_T</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sst__intern_8h.html#1ea52fd8fe6e7118999e3c04f3753b2b">SST_TaskID_T</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A type to store ID of a task (created by <a class="el" href="sst_8h.html#573abf104045f1163f028bc02f445ba1">SST_CreateTask</a>). <br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
A header file with definitions used by teh SST implementation. 
<p>
It is used for some user macros but mainly for internal purposes of the SST and should <b>not</b> be direcly included by user code. <hr><h2>Define Documentation</h2>
<a class="anchor" name="3019c51191b97314f308c2d10ebe894d"></a><!-- doxytag: member="sst_intern.h::SST_BAD_TASK_ID" ref="3019c51191b97314f308c2d10ebe894d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SST_BAD_TASK_ID          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A bad task ID used to communicate problems (e.g. <a class="el" href="sst_8h.html#573abf104045f1163f028bc02f445ba1">SST_CreateTask</a>). 
<p>
Value of this macro can be used to test return value of the <a class="el" href="sst_8h.html#573abf104045f1163f028bc02f445ba1">SST_CreateTask</a> function. 
</div>
</div><p>
<a class="anchor" name="818608f0b5053f5e0ee9b25c0efe66a9"></a><!-- doxytag: member="sst_intern.h::SST_DECLARE_INT_USAGE" ref="818608f0b5053f5e0ee9b25c0efe66a9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SST_DECLARE_INT_USAGE          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This macro declares variables needed to keep interrupt state. 
<p>
The macros <a class="el" href="sst__intern_8h.html#33e03121c6d9d7dce19c3435514a948f">SST_INT_LOCK_AND_SAVE</a> and <a class="el" href="sst__intern_8h.html#ce70412f2a3133b6e5d5bb6b528503b2">SST_INT_LOCK_RESTORE</a> needs some memory keep state of interrupts. This macro perform all needed definitions. 
</div>
</div><p>
<a class="anchor" name="3ad2d9067dd414c1d9d11ab54b0fdc26"></a><!-- doxytag: member="sst_intern.h::SST_DECLARE_ISR" ref="3ad2d9067dd414c1d9d11ab54b0fdc26" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SST_DECLARE_ISR          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This macro is used to declare that given ISR will use SST interrupt API like # SST_ISR_ENTRY and <a class="el" href="sst__intern_8h.html#2ae07f6058627d0ea67dc64c91e97129">SST_ISR_EXIT</a>. 
<p>
It declares variables used used internally by SST for keeping interrupt state and task priority. 
</div>
</div><p>
<a class="anchor" name="14f5d75172e06770be7b9c5a4a04e03e"></a><!-- doxytag: member="sst_intern.h::SST_ISR_ENTRY" ref="14f5d75172e06770be7b9c5a4a04e03e" args="(isr_prio)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SST_ISR_ENTRY          </td>
          <td>(</td>
          <td class="paramtype">isr_prio&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This macro reenables interrupts inside ISR. 
<p>
This allows to "nest" interrupts. Any hadware related (e.g. timer reinitialization) processing should be done <b>before</b> usage of this macro. 
</div>
</div><p>
<a class="anchor" name="534e46f75f8824d7f609f41e69d51d4a"></a><!-- doxytag: member="sst_intern.h::SST_MIN_INT_PRIO" ref="534e46f75f8824d7f609f41e69d51d4a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SST_MIN_INT_PRIO          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The lowest priority for an ISR. 
<p>
ISRs should have priority equal to or greather than value of this macro. It is achieved by using it as a <em>isr_prio</em> parameter for the <a class="el" href="sst__intern_8h.html#14f5d75172e06770be7b9c5a4a04e03e">SST_ISR_ENTRY</a> macro. 
</div>
</div><p>
<a class="anchor" name="ae26507a3b774917892a5c2e101274f4"></a><!-- doxytag: member="sst_intern.h::SST_TASK_BROADCAST_ID" ref="ae26507a3b774917892a5c2e101274f4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SST_TASK_BROADCAST_ID          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A special task ID used as a broadcast ID (e.g. <a class="el" href="sst_8h.html#4f8fd4af0f0cb0e90e17c8fa1b3f8470">SST_PostEvent</a>). 
<p>
Value of this macro can be used to inform <a class="el" href="sst_8h.html#4f8fd4af0f0cb0e90e17c8fa1b3f8470">SST_PostEvent</a> that it should post events to group of tasks with matching signal mask. 
</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Sat Dec 30 18:21:38 2006 for SST by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1 </small></address>
</body>
</html>
