<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>SST: sst_base_def.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<h1>sst_base_def.h File Reference</h1>A header file specific for given microcontroller and project. <a href="#_details">More...</a>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sst__base__def_8h.html#354c38bd9f81c3ad3cac30b537fd903f">SST_USE_SIGNAL_MASK</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro conditionally enables or disables event broadcast functionality.  <a href="#354c38bd9f81c3ad3cac30b537fd903f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sst__base__def_8h.html#ea8c167e52967cbab830f699100c0f5f">SST_USE_LAZY_TIMER</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro conditionally enables "lazy" timer functionality.  <a href="#ea8c167e52967cbab830f699100c0f5f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sst__base__def_8h.html#21e4312065735a4693073bd3fd408e43">SST_MAX_NO_OF_TASKS</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro sets maximum number of tasks in the system.  <a href="#21e4312065735a4693073bd3fd408e43"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sst__base__def_8h.html#91b4bef2cc2f07f610a99c275134b3e6">SST_MAX_EV_QUEUE_LEN</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro sets a events queue depth for task.  <a href="#91b4bef2cc2f07f610a99c275134b3e6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sst__base__def_8h.html#79791eb41132c507952f69319a72a799">SST_MAX_TASK_PRIO</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro sets upper limit for tasks priority value.  <a href="#79791eb41132c507952f69319a72a799"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sst__base__def_8h.html#dcacfee59c845f9ab2772b7ca51298fd">SST_Start_Nested_Ints</a>()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A macro defined by user to enable interrupts nesting.  <a href="#dcacfee59c845f9ab2772b7ca51298fd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sst__base__def_8h.html#7bf174cb391cafd75648861a2abe9297">SST_Stop_Nested_Ints</a>()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A macro defined by user to stop interrupts nesting.  <a href="#7bf174cb391cafd75648861a2abe9297"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sst__base__def_8h.html#944ea80499801ad27b0a5f93deb618c6">SST_disable_ints_save</a>(_old_)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A macro defined by user whis save state of global interrupt enable flag then disable interrupts.  <a href="#944ea80499801ad27b0a5f93deb618c6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sst__base__def_8h.html#dbeff2a9943eafa023a7af630ab98fb8">SST_disable_ints</a>()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A macro defined by user to disable interrupts (globally).  <a href="#dbeff2a9943eafa023a7af630ab98fb8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sst__base__def_8h.html#686c221f4d78671db3910ba3fe4f56bc">SST_enable_ints</a>()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A macro defined by user to anable interrupts (globally).  <a href="#686c221f4d78671db3910ba3fe4f56bc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sst__base__def_8h.html#661609f1fda6173b04ec491c42428ffd">SST_restore_ints</a>(_old_)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A macro defined by user to restore interrupts status depending on value of the <em>_old_</em> parameter.  <a href="#661609f1fda6173b04ec491c42428ffd"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sst__base__def_8h.html#24d4221cdd204d79e5229dfa493e0159">CPU_Base_T</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The datatype defined by user used as a basic type by the SST.  <a href="#24d4221cdd204d79e5229dfa493e0159"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sst__base__def_8h.html#e4f1fbbc239d0d779f5fe589f2d7e00e">CPU_SR_T</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The datatype defined by user and used to keep status of global interrupt enable flag.  <a href="#e4f1fbbc239d0d779f5fe589f2d7e00e"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
A header file specific for given microcontroller and project. 
<p>
It is used for porting SST to other microcontrollers and to tune SST paramaeters for a given project (e.g. maximum number of tasks). <hr><h2>Define Documentation</h2>
<a class="anchor" name="dbeff2a9943eafa023a7af630ab98fb8"></a><!-- doxytag: member="sst_base_def.h::SST_disable_ints" ref="dbeff2a9943eafa023a7af630ab98fb8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SST_disable_ints          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A macro defined by user to disable interrupts (globally). 
<p>
It is used by the <a class="el" href="sst__intern_8h.html#cd214041afe4c6326ba77981be6685fe">SST_INT_LOCK</a> 
</div>
</div><p>
<a class="anchor" name="944ea80499801ad27b0a5f93deb618c6"></a><!-- doxytag: member="sst_base_def.h::SST_disable_ints_save" ref="944ea80499801ad27b0a5f93deb618c6" args="(_old_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SST_disable_ints_save          </td>
          <td>(</td>
          <td class="paramtype">_old_&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A macro defined by user whis save state of global interrupt enable flag then disable interrupts. 
<p>
It is used by the <a class="el" href="sst__intern_8h.html#33e03121c6d9d7dce19c3435514a948f">SST_INT_LOCK_AND_SAVE</a> 
</div>
</div><p>
<a class="anchor" name="686c221f4d78671db3910ba3fe4f56bc"></a><!-- doxytag: member="sst_base_def.h::SST_enable_ints" ref="686c221f4d78671db3910ba3fe4f56bc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SST_enable_ints          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A macro defined by user to anable interrupts (globally). 
<p>
It is used by the <a class="el" href="sst__intern_8h.html#c8d541f772823c2ef0be55d7f1930470">SST_INT_UNLOCK</a> 
</div>
</div><p>
<a class="anchor" name="91b4bef2cc2f07f610a99c275134b3e6"></a><!-- doxytag: member="sst_base_def.h::SST_MAX_EV_QUEUE_LEN" ref="91b4bef2cc2f07f610a99c275134b3e6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SST_MAX_EV_QUEUE_LEN          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This macro sets a events queue depth for task. 
<p>
Depending on the value of this macro there can be three different cases:<ul>
<li><code>SST_MAX_EV_QUEUE_LEN</code> is 0 - the events queue (and its depth) is separately defined for each task, there should be used special API for defining queue - <a class="el" href="sst_8h.html#8ecbe96126d2ec996db6665872b1e5e7">SST_EVENTQ_DEFINE</a> and attaching it to given task (<a class="el" href="sst_8h.html#573abf104045f1163f028bc02f445ba1">SST_CreateTask</a>)</li><li><code>SST_MAX_EV_QUEUE_LEN</code> is 1 - in this case there is generated the simplest (and shortest) code, for each task only one event can be placed in a slot and in fact, there is no real queueing</li><li><code>SST_MAX_EV_QUEUE_LEN</code> is greather than 1 - in this case for each task there is allocated the same space (<code>SST_MAX_EV_QUEUE_LEN</code>) for events queue<br>
</li></ul>
<p>
The space needed for queue is allocated fully statically and it is impossible to extend (change) it at runtime. 
</div>
</div><p>
<a class="anchor" name="21e4312065735a4693073bd3fd408e43"></a><!-- doxytag: member="sst_base_def.h::SST_MAX_NO_OF_TASKS" ref="21e4312065735a4693073bd3fd408e43" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SST_MAX_NO_OF_TASKS          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This macro sets maximum number of tasks in the system. 
<p>
The space needed for task information is allocated fully staticaly and it is impossible to extend (change) it at runtime. 
</div>
</div><p>
<a class="anchor" name="79791eb41132c507952f69319a72a799"></a><!-- doxytag: member="sst_base_def.h::SST_MAX_TASK_PRIO" ref="79791eb41132c507952f69319a72a799" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SST_MAX_TASK_PRIO          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This macro sets upper limit for tasks priority value. 
<p>
<dl class="warning" compact><dt><b>Warning:</b></dt><dd>This value should be less than maximum possible value of the <a class="el" href="sst__base__def_8h.html#24d4221cdd204d79e5229dfa493e0159">CPU_Base_T</a> type.<br>
 Preferably it should be defined in the middle of range of the <a class="el" href="sst__base__def_8h.html#24d4221cdd204d79e5229dfa493e0159">CPU_Base_T</a> type. </dd></dl>

</div>
</div><p>
<a class="anchor" name="661609f1fda6173b04ec491c42428ffd"></a><!-- doxytag: member="sst_base_def.h::SST_restore_ints" ref="661609f1fda6173b04ec491c42428ffd" args="(_old_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SST_restore_ints          </td>
          <td>(</td>
          <td class="paramtype">_old_&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A macro defined by user to restore interrupts status depending on value of the <em>_old_</em> parameter. 
<p>
It is used by the <a class="el" href="sst__intern_8h.html#ce70412f2a3133b6e5d5bb6b528503b2">SST_INT_LOCK_RESTORE</a> 
</div>
</div><p>
<a class="anchor" name="dcacfee59c845f9ab2772b7ca51298fd"></a><!-- doxytag: member="sst_base_def.h::SST_Start_Nested_Ints" ref="dcacfee59c845f9ab2772b7ca51298fd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SST_Start_Nested_Ints          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A macro defined by user to enable interrupts nesting. 
<p>
Usually this macro deals with interrupt controller (if any) and enables interrupts globally (if they are automatically diabled at the entry to ISR).<br>
 It is used by the <a class="el" href="sst__intern_8h.html#14f5d75172e06770be7b9c5a4a04e03e">SST_ISR_ENTRY</a> 
</div>
</div><p>
<a class="anchor" name="7bf174cb391cafd75648861a2abe9297"></a><!-- doxytag: member="sst_base_def.h::SST_Stop_Nested_Ints" ref="7bf174cb391cafd75648861a2abe9297" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SST_Stop_Nested_Ints          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A macro defined by user to stop interrupts nesting. 
<p>
Usually this macro disables interrupts globally.<br>
 It is used by the <a class="el" href="sst__intern_8h.html#2ae07f6058627d0ea67dc64c91e97129">SST_ISR_EXIT</a> 
</div>
</div><p>
<a class="anchor" name="ea8c167e52967cbab830f699100c0f5f"></a><!-- doxytag: member="sst_base_def.h::SST_USE_LAZY_TIMER" ref="ea8c167e52967cbab830f699100c0f5f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SST_USE_LAZY_TIMER          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This macro conditionally enables "lazy" timer functionality. 
<p>
If this macro is defined to nonzero value then code is compiled with additional functionality which allows to define (trough <a class="el" href="sst__timer_8h.html#5d685a1dfdebb07b31c6e59ef0c083e9">SST_TICKER_DEFINE</a>) callback functions associated with ticker (<a class="el" href="sst__timer_8h.html#c17a602aa76d07648a0035a426a8c45e">SST_Ticker_T</a>). Those functions will be called in two cases:<ul>
<li>when all timed tasks associated with given ticker are disabled - ticker becomes idle</li><li>when any of timed task has been enabled and ticker was previously idle</li></ul>
<p>
This functionality allows to automatically disable/enable HW timer and/or associated ISR only when needed. 
</div>
</div><p>
<a class="anchor" name="354c38bd9f81c3ad3cac30b537fd903f"></a><!-- doxytag: member="sst_base_def.h::SST_USE_SIGNAL_MASK" ref="354c38bd9f81c3ad3cac30b537fd903f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SST_USE_SIGNAL_MASK          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This macro conditionally enables or disables event broadcast functionality. 
<p>
If this macro is defined to nonzero value then code is compiled with additional functionality which allows to define signal mask attribute for each task (<a class="el" href="sst_8h.html#a7c965b5658a7cb09c992c57ad30e640">SST_SetSignalMask</a>) and to post event to more than one task by single function (<a class="el" href="sst_8h.html#4f8fd4af0f0cb0e90e17c8fa1b3f8470">SST_PostEvent</a>) call (broadcast like).<br>
 The choice if given task should receive event is made basing on the value of task attribute called signal mask. If signal part of event matches event mask of given task then event is posted to this task. Matching is implemented by performing simple bitwise <code>AND</code> operation e.g. if signal has value <code>0x31</code> and evet mask is <code>0x10</code> then event matches. 
</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="24d4221cdd204d79e5229dfa493e0159"></a><!-- doxytag: member="sst_base_def.h::CPU_Base_T" ref="24d4221cdd204d79e5229dfa493e0159" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sst__base__def_8h.html#24d4221cdd204d79e5229dfa493e0159">CPU_Base_T</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The datatype defined by user used as a basic type by the SST. 
<p>
This should be the most effective one (in terms of speed) for given CPU.<br>
 It is used in many places in the SST code as a basic integer type - mainly for indexing and counting purposes. 
</div>
</div><p>
<a class="anchor" name="e4f1fbbc239d0d779f5fe589f2d7e00e"></a><!-- doxytag: member="sst_base_def.h::CPU_SR_T" ref="e4f1fbbc239d0d779f5fe589f2d7e00e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sst__base__def_8h.html#e4f1fbbc239d0d779f5fe589f2d7e00e">CPU_SR_T</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The datatype defined by user and used to keep status of global interrupt enable flag. 
<p>
It is used by the SST API like <a class="el" href="sst__intern_8h.html#33e03121c6d9d7dce19c3435514a948f">SST_INT_LOCK_AND_SAVE</a> to keep state of interrupts. 
</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Sat Dec 30 18:21:37 2006 for SST by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1 </small></address>
</body>
</html>
