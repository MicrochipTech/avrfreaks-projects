\section{Desktop/Copy of GPS\_\-TRACE/SRC/lcd.c File Reference}
\label{lcd_8c}\index{Desktop/Copy of GPS_TRACE/SRC/lcd.c@{Desktop/Copy of GPS\_\-TRACE/SRC/lcd.c}}
{\tt \#include $<$inttypes.h$>$}\par
{\tt \#include $<$avr/io.h$>$}\par
{\tt \#include $<$avr/pgmspace.h$>$}\par
{\tt \#include \char`\"{}lcd.h\char`\"{}}\par


Include dependency graph for lcd.c:\subsection*{Defines}
\begin{CompactItemize}
\item 
\#define {\bf DDR}(x)~($\ast$(\&x - 1))
\item 
\#define {\bf PIN}(x)~($\ast$(\&x - 2))
\item 
\#define {\bf lcd\_\-e\_\-delay}()~\_\-\_\-asm\_\-\_\- \_\-\_\-volatile\_\-\_\-( \char`\"{}rjmp 1f$\backslash$n 1:\char`\"{} );
\item 
\#define {\bf lcd\_\-e\_\-high}()~LCD\_\-E\_\-PORT  $|$=  \_\-BV(LCD\_\-E\_\-PIN);
\item 
\#define {\bf lcd\_\-e\_\-low}()~LCD\_\-E\_\-PORT  \&= $\sim$\_\-BV(LCD\_\-E\_\-PIN);
\item 
\#define {\bf lcd\_\-e\_\-toggle}()~toggle\_\-e()
\item 
\#define {\bf lcd\_\-rw\_\-high}()~LCD\_\-RW\_\-PORT $|$=  \_\-BV(LCD\_\-RW\_\-PIN)
\item 
\#define {\bf lcd\_\-rw\_\-low}()~LCD\_\-RW\_\-PORT \&= $\sim$\_\-BV(LCD\_\-RW\_\-PIN)
\item 
\#define {\bf lcd\_\-rs\_\-high}()~LCD\_\-RS\_\-PORT $|$=  \_\-BV(LCD\_\-RS\_\-PIN)
\item 
\#define {\bf lcd\_\-rs\_\-low}()~LCD\_\-RS\_\-PORT \&= $\sim$\_\-BV(LCD\_\-RS\_\-PIN)
\item 
\#define {\bf LCD\_\-FUNCTION\_\-DEFAULT}~LCD\_\-FUNCTION\_\-4BIT\_\-2LINES
\item 
\#define {\bf delay}(us)~\_\-delayFourCycles( ( ( 1$\ast$(XTAL/4000) )$\ast$us)/1000 )
\end{CompactItemize}
\subsection*{Functions}
\begin{CompactItemize}
\item 
static void {\bf toggle\_\-e} (void)
\item 
static void {\bf \_\-delayFourCycles} (unsigned int \_\-\_\-count)
\item 
static void {\bf lcd\_\-write} (uint8\_\-t {\bf data}, uint8\_\-t rs)
\item 
static uint8\_\-t {\bf lcd\_\-read} (uint8\_\-t rs)
\item 
static uint8\_\-t {\bf lcd\_\-waitbusy} (void)
\item 
static void {\bf lcd\_\-newline} (uint8\_\-t pos)
\item 
void {\bf lcd\_\-command} (uint8\_\-t cmd)
\begin{CompactList}\small\item\em Send LCD controller instruction command. \item\end{CompactList}\item 
void {\bf lcd\_\-data} (uint8\_\-t {\bf data})
\begin{CompactList}\small\item\em Send data byte to LCD controller. \item\end{CompactList}\item 
void {\bf lcd\_\-gotoxy} (uint8\_\-t x, uint8\_\-t y)
\begin{CompactList}\small\item\em Set cursor to specified position. \item\end{CompactList}\item 
int {\bf lcd\_\-getxy} (void)
\item 
void {\bf lcd\_\-clrscr} (void)
\begin{CompactList}\small\item\em Clear display and set cursor to home position. \item\end{CompactList}\item 
void {\bf lcd\_\-home} (void)
\begin{CompactList}\small\item\em Set cursor to home position. \item\end{CompactList}\item 
void {\bf lcd\_\-putc} (char c)
\begin{CompactList}\small\item\em Display character at current cursor position. \item\end{CompactList}\item 
void {\bf lcd\_\-puts} (const char $\ast$s)
\begin{CompactList}\small\item\em Display string without auto linefeed. \item\end{CompactList}\item 
void {\bf lcd\_\-puts\_\-p} (const char $\ast$progmem\_\-s)
\begin{CompactList}\small\item\em Display string from program memory without auto linefeed. \item\end{CompactList}\item 
void {\bf lcd\_\-init} (uint8\_\-t dispAttr)
\begin{CompactList}\small\item\em Initialize display and select type of cursor. \item\end{CompactList}\end{CompactItemize}


\subsection{Define Documentation}
\index{lcd.c@{lcd.c}!DDR@{DDR}}
\index{DDR@{DDR}!lcd.c@{lcd.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define DDR(x)~($\ast$(\&x - 1))}\label{lcd_8c_cbe348573e1b5adccdc7bcf157dc6425}




Definition at line 35 of file lcd.c.

Referenced by lcd\_\-init(), lcd\_\-read(), and lcd\_\-write().\index{lcd.c@{lcd.c}!delay@{delay}}
\index{delay@{delay}!lcd.c@{lcd.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define delay(us)~\_\-delayFourCycles( ( ( 1$\ast$(XTAL/4000) )$\ast$us)/1000 )}\label{lcd_8c_deb129e484b57c960e4a118fab9cdb21}




Definition at line 113 of file lcd.c.

Referenced by lcd\_\-init(), and lcd\_\-waitbusy().\index{lcd.c@{lcd.c}!lcd_e_delay@{lcd\_\-e\_\-delay}}
\index{lcd_e_delay@{lcd\_\-e\_\-delay}!lcd.c@{lcd.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define lcd\_\-e\_\-delay()~\_\-\_\-asm\_\-\_\- \_\-\_\-volatile\_\-\_\-( \char`\"{}rjmp 1f$\backslash$n 1:\char`\"{} );}\label{lcd_8c_bd01e64562ef0e704b5402884a269901}




Definition at line 45 of file lcd.c.

Referenced by lcd\_\-read(), and toggle\_\-e().\index{lcd.c@{lcd.c}!lcd_e_high@{lcd\_\-e\_\-high}}
\index{lcd_e_high@{lcd\_\-e\_\-high}!lcd.c@{lcd.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define lcd\_\-e\_\-high()~LCD\_\-E\_\-PORT  $|$=  \_\-BV(LCD\_\-E\_\-PIN);}\label{lcd_8c_36e38738cd00287b6fb42ff683029aad}




Definition at line 46 of file lcd.c.

Referenced by lcd\_\-read(), and toggle\_\-e().\index{lcd.c@{lcd.c}!lcd_e_low@{lcd\_\-e\_\-low}}
\index{lcd_e_low@{lcd\_\-e\_\-low}!lcd.c@{lcd.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define lcd\_\-e\_\-low()~LCD\_\-E\_\-PORT  \&= $\sim$\_\-BV(LCD\_\-E\_\-PIN);}\label{lcd_8c_5ca48e29e8aab0646fc0e23c59f6485d}




Definition at line 47 of file lcd.c.

Referenced by lcd\_\-read(), and toggle\_\-e().\index{lcd.c@{lcd.c}!lcd_e_toggle@{lcd\_\-e\_\-toggle}}
\index{lcd_e_toggle@{lcd\_\-e\_\-toggle}!lcd.c@{lcd.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define lcd\_\-e\_\-toggle()~toggle\_\-e()}\label{lcd_8c_52d741874ca8c3c1a30a4955e8794e36}




Definition at line 48 of file lcd.c.

Referenced by lcd\_\-init(), and lcd\_\-write().\index{lcd.c@{lcd.c}!LCD_FUNCTION_DEFAULT@{LCD\_\-FUNCTION\_\-DEFAULT}}
\index{LCD_FUNCTION_DEFAULT@{LCD\_\-FUNCTION\_\-DEFAULT}!lcd.c@{lcd.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define LCD\_\-FUNCTION\_\-DEFAULT~LCD\_\-FUNCTION\_\-4BIT\_\-2LINES}\label{lcd_8c_3e90d5d09ca0b33d440049c09b5ab244}




Definition at line 59 of file lcd.c.

Referenced by lcd\_\-init().\index{lcd.c@{lcd.c}!lcd_rs_high@{lcd\_\-rs\_\-high}}
\index{lcd_rs_high@{lcd\_\-rs\_\-high}!lcd.c@{lcd.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define lcd\_\-rs\_\-high()~LCD\_\-RS\_\-PORT $|$=  \_\-BV(LCD\_\-RS\_\-PIN)}\label{lcd_8c_795b48274d3f80bc744a707b67fd93e9}




Definition at line 51 of file lcd.c.

Referenced by lcd\_\-read(), and lcd\_\-write().\index{lcd.c@{lcd.c}!lcd_rs_low@{lcd\_\-rs\_\-low}}
\index{lcd_rs_low@{lcd\_\-rs\_\-low}!lcd.c@{lcd.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define lcd\_\-rs\_\-low()~LCD\_\-RS\_\-PORT \&= $\sim$\_\-BV(LCD\_\-RS\_\-PIN)}\label{lcd_8c_6edb13d59460246fb4cc32ada1c9f4a8}




Definition at line 52 of file lcd.c.

Referenced by lcd\_\-read(), and lcd\_\-write().\index{lcd.c@{lcd.c}!lcd_rw_high@{lcd\_\-rw\_\-high}}
\index{lcd_rw_high@{lcd\_\-rw\_\-high}!lcd.c@{lcd.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define lcd\_\-rw\_\-high()~LCD\_\-RW\_\-PORT $|$=  \_\-BV(LCD\_\-RW\_\-PIN)}\label{lcd_8c_d0ce3cd9b481370ad4de36eff08440c8}




Definition at line 49 of file lcd.c.

Referenced by lcd\_\-read().\index{lcd.c@{lcd.c}!lcd_rw_low@{lcd\_\-rw\_\-low}}
\index{lcd_rw_low@{lcd\_\-rw\_\-low}!lcd.c@{lcd.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define lcd\_\-rw\_\-low()~LCD\_\-RW\_\-PORT \&= $\sim$\_\-BV(LCD\_\-RW\_\-PIN)}\label{lcd_8c_7f5ebe0ca71b1298a7d3423850cc82b1}




Definition at line 50 of file lcd.c.

Referenced by lcd\_\-write().\index{lcd.c@{lcd.c}!PIN@{PIN}}
\index{PIN@{PIN}!lcd.c@{lcd.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define PIN(x)~($\ast$(\&x - 2))}\label{lcd_8c_d7581da21e9fd6fd6f6920dd68d1c782}




Definition at line 40 of file lcd.c.

Referenced by lcd\_\-read().

\subsection{Function Documentation}
\index{lcd.c@{lcd.c}!_delayFourCycles@{\_\-delayFourCycles}}
\index{_delayFourCycles@{\_\-delayFourCycles}!lcd.c@{lcd.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}static void \_\-delayFourCycles (unsigned int {\em \_\-\_\-count})\hspace{0.3cm}{\tt  [inline, static]}}\label{lcd_8c_efcdb888ba5cb63b7ba5c1a74f7738be}




Definition at line 95 of file lcd.c.\index{lcd.c@{lcd.c}!lcd_getxy@{lcd\_\-getxy}}
\index{lcd_getxy@{lcd\_\-getxy}!lcd.c@{lcd.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int lcd\_\-getxy (void)}\label{lcd_8c_db21ec2be5713b0540c4c273c33dfd7f}




Definition at line 408 of file lcd.c.

References lcd\_\-waitbusy().\index{lcd.c@{lcd.c}!lcd_newline@{lcd\_\-newline}}
\index{lcd_newline@{lcd\_\-newline}!lcd.c@{lcd.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}static void lcd\_\-newline (uint8\_\-t {\em pos})\hspace{0.3cm}{\tt  [inline, static]}}\label{lcd_8c_a905930e4947d59421e0a8033d971676}




Definition at line 306 of file lcd.c.

References lcd\_\-command(), LCD\_\-DDRAM, LCD\_\-START\_\-LINE1, LCD\_\-START\_\-LINE2, LCD\_\-START\_\-LINE3, and LCD\_\-START\_\-LINE4.

Referenced by lcd\_\-putc().\index{lcd.c@{lcd.c}!lcd_read@{lcd\_\-read}}
\index{lcd_read@{lcd\_\-read}!lcd.c@{lcd.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}static uint8\_\-t lcd\_\-read (uint8\_\-t {\em rs})\hspace{0.3cm}{\tt  [static]}}\label{lcd_8c_48a16fff03a1164f27b460a49e702dc4}




Definition at line 216 of file lcd.c.

References data, DDR, LCD\_\-DATA0\_\-PIN, LCD\_\-DATA0\_\-PORT, LCD\_\-DATA1\_\-PIN, LCD\_\-DATA1\_\-PORT, LCD\_\-DATA2\_\-PIN, LCD\_\-DATA2\_\-PORT, LCD\_\-DATA3\_\-PIN, LCD\_\-DATA3\_\-PORT, lcd\_\-e\_\-delay, lcd\_\-e\_\-high, lcd\_\-e\_\-low, lcd\_\-rs\_\-high, lcd\_\-rs\_\-low, lcd\_\-rw\_\-high, and PIN.

Referenced by lcd\_\-waitbusy().\index{lcd.c@{lcd.c}!lcd_waitbusy@{lcd\_\-waitbusy}}
\index{lcd_waitbusy@{lcd\_\-waitbusy}!lcd.c@{lcd.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}static uint8\_\-t lcd\_\-waitbusy (void)\hspace{0.3cm}{\tt  [static]}}\label{lcd_8c_4ca4373275e11ba1a2d2cbd242cbf1a4}




Definition at line 285 of file lcd.c.

References delay, LCD\_\-BUSY, and lcd\_\-read().

Referenced by lcd\_\-command(), lcd\_\-data(), lcd\_\-getxy(), and lcd\_\-putc().\index{lcd.c@{lcd.c}!lcd_write@{lcd\_\-write}}
\index{lcd_write@{lcd\_\-write}!lcd.c@{lcd.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}static void lcd\_\-write (uint8\_\-t {\em data}, uint8\_\-t {\em rs})\hspace{0.3cm}{\tt  [static]}}\label{lcd_8c_6aa4fa5c8ba19268338fa4215fa1807e}




Definition at line 135 of file lcd.c.

References DDR, LCD\_\-DATA0\_\-PIN, LCD\_\-DATA0\_\-PORT, LCD\_\-DATA1\_\-PIN, LCD\_\-DATA1\_\-PORT, LCD\_\-DATA2\_\-PIN, LCD\_\-DATA2\_\-PORT, LCD\_\-DATA3\_\-PIN, LCD\_\-DATA3\_\-PORT, lcd\_\-e\_\-toggle, lcd\_\-rs\_\-high, lcd\_\-rs\_\-low, and lcd\_\-rw\_\-low.

Referenced by lcd\_\-command(), lcd\_\-data(), lcd\_\-init(), and lcd\_\-putc().\index{lcd.c@{lcd.c}!toggle_e@{toggle\_\-e}}
\index{toggle_e@{toggle\_\-e}!lcd.c@{lcd.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}static void toggle\_\-e (void)\hspace{0.3cm}{\tt  [static]}}\label{lcd_8c_762d0af9ccb3c9507af12cd7617e047d}




Definition at line 118 of file lcd.c.

References lcd\_\-e\_\-delay, lcd\_\-e\_\-high, and lcd\_\-e\_\-low.