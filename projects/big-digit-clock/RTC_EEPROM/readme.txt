Here are a pair of programs for using the inexpensive RealTime breakout boards
found on eBay for about $1.50.  Most have the DS1307 IC, but the better ones
have the DS3231 IC, which has more features.  Most of the boards also have a
4K*8 serial EEPROM (a 24C32) on board as well.  

The first program is a clock with big digits for the cheap Nokia 5110 graphics
display module.  The second program is a simple demo for loading character fonts
in the serial EEPROM.

Both programs are written in AVR assembler.  The hex and LST files are included. 
The target CPU was the Mega8, but the code can be easily modified to be used
with any AVR with TWI such as the popular Mega328P.

If modifying for the 328, adjust the interrupt vector table for the 328's
different interrupts (they also use the JMP instead of RJMP) and note that some
of the peripheral I/O registers use LDS/STS instead of IN/OUT.
The RealTime breakout board connects to AVRs SCL/SDA lines and the Nokia display
connects to three lines on Port B.

The assembler listing is in code modules and should be easy to follow.  It can
be loaded into the AVR using AVRdude and a standard USB_ASP programmer. 
Presently the only major advantage to using assembler is that the final code is
much smaller than that generated by WINAVR.  It isn't faster running and
certainly isn't easier to write.

alan_probandt@yahoo.com
