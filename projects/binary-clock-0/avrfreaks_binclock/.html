<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
lang="en" xml:lang="en">
<head>
<title>Binary Clock<sup>TM</sup></title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="2011-12-15 Thu"/>
<meta name="author" content="JRLF"/>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  html { font-family: Times, serif; font-size: 12pt; }
  .title  { text-align: center; }
  .todo   { color: red; }
  .done   { color: green; }
  .tag    { background-color: #add8e6; font-weight:normal }
  .target { }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  {margin-left:auto; margin-right:0px;  text-align:right;}
  .left   {margin-left:0px;  margin-right:auto; text-align:left;}
  .center {margin-left:auto; margin-right:auto; text-align:center;}
  p.verse { margin-left: 3% }
  pre {
	border: 1pt solid #AEBDCC;
	background-color: #F3F5F7;
	padding: 5pt;
	font-family: courier, monospace;
        font-size: 90%;
        overflow:auto;
  }
  table { border-collapse: collapse; }
  td, th { vertical-align: top;  }
  th.right  { text-align:center;  }
  th.left   { text-align:center;   }
  th.center { text-align:center; }
  td.right  { text-align:right;  }
  td.left   { text-align:left;   }
  td.center { text-align:center; }
  dt { font-weight: bold; }
  div.figure { padding: 0.5em; }
  div.figure p { text-align: center; }
  textarea { overflow-x: auto; }
  .linenr { font-size:smaller }
  .code-highlighted {background-color:#ffff00;}
  .org-info-js_info-navigation { border-style:none; }
  #org-info-js_console-label { font-size:10px; font-weight:bold;
                               white-space:nowrap; }
  .org-info-js_search-highlight {background-color:#ffff00; color:#000000;
                                 font-weight:bold; }
  /*]]>*/-->
</style>
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>

</head>
<body>
<div id="content">

<h1 class="title">Binary Clock<sup>TM</sup></h1>

<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1 Introduction </a></li>
<li><a href="#sec-2">2 Using the Clock </a>
<ul>
<li><a href="#sec-2_1">2.1 Installing </a></li>
<li><a href="#sec-2_2">2.2 Setting the Clock </a></li>
<li><a href="#sec-2_3">2.3 Time Display </a></li>
<li><a href="#sec-2_4">2.4 Tick </a></li>
</ul>
</li>
<li><a href="#sec-3">3 Troubleshooting </a></li>
<li><a href="#sec-4">4 Theory of Operation </a></li>
<li><a href="#sec-5">5 Recycling </a></li>
<li><a href="#sec-6">6 Acknowledgements </a></li>
</ul>
</div>
</div>

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Introduction </h2>
<div class="outline-text-2" id="text-1">


<p>
  Welcome to the wonderful world of Binary Time<sup>TM</sup>. Your new Binary
  Clock ushers in a whole new way of looking at the passing hours and
  days and years of your life. Instead of an easily readable clock
  face that uses Roman numerals, the Binary Clock<sup>TM</sup> uses a cryptic
  arrangement of LEDs. In contrast to the whacky display system, the
  clock is set with an intuitive and innovative ONE button interface!
</p>
<p>
  Only you will actually know what time it is. Assuming you can
  remember the conversion factors. But you're a highly paid computer
  professional, so it should be <i>easy</i>, right?
</p>
<p>
  <img src="binclock_angle_001.png"  alt="binclock_angle_001.png" />
</p>
</div>

</div>

<div id="outline-container-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Using the Clock </h2>
<div class="outline-text-2" id="text-2">


<p>
  The user interface for the clock is simplicity itself. Instead of
  cryptic icons or nested menus, there's only ONE button. You can't
  get more intuitive than that!
</p>

</div>

<div id="outline-container-2_1" class="outline-3">
<h3 id="sec-2_1"><span class="section-number-3">2.1</span> Installing </h3>
<div class="outline-text-3" id="text-2_1">


<p>
   The clock uses 3AA batteries for power. The batteries should be
   intalled in the external battery holder. Once they're installed,
   connect the battery clip to the battery holder. The clock will
   start immediately. It's just that <i>intuitive!</i>
</p>
<p>
   <b>NOTE: DO NOT PLUG A 9 VOLT BATTERY INTO BATTERY CLIP</b>
</p>
</div>

</div>

<div id="outline-container-2_2" class="outline-3">
<h3 id="sec-2_2"><span class="section-number-3">2.2</span> Setting the Clock </h3>
<div class="outline-text-3" id="text-2_2">


<p>
   Unlike your common or garden variety VCR or stove clock, you don't
   have to press down five separate buttons the wrong way around while
   holding your mouth <i>just right</i>. Unlike even that paragon of user
   interface design, the Macintosh computer, you don't have to find a
   time server or go through a settings dialogue.
</p>
<p>
   You set this clock with just ONE button.
</p>
<p>
   There is a button on the face of the Binary Clock<sup>TM</sup>. Push
   it. You've now set it for 08:00. Since the clock doesn't care if
   it's AM or PM, you don't have to either. You have two chances per
   day to set the clock properly. 8:00 in the morning and 8:00 at
   night.
</p>
</div>

</div>

<div id="outline-container-2_3" class="outline-3">
<h3 id="sec-2_3"><span class="section-number-3">2.3</span> Time Display </h3>
<div class="outline-text-3" id="text-2_3">


<p>
   The clock displays time in a binary format. There are four lights
   for hours and six lights for minutes. Each light stands for some
   number of hours or minutes. If a light is lit, you add it to the
   sum. Reading from the left to right, the lights stand for this many
   hours and minutes.
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption></caption>
<colgroup><col class="left" /><col class="left" /><col class="left" /><col class="left" /><col class="left" /><col class="left" /><col class="left" /><col class="left" /><col class="left" /><col class="left" /><col class="left" />
</colgroup>
<thead>
<tr><th scope="col" class="left">H</th><th scope="col" class="left">O</th><th scope="col" class="left">U</th><th scope="col" class="left">R</th><th scope="col" class="left"></th><th scope="col" class="left">M</th><th scope="col" class="left">I</th><th scope="col" class="left">N</th><th scope="col" class="left">U</th><th scope="col" class="left">T</th><th scope="col" class="left">E</th></tr>
</thead>
<tbody>
<tr><td class="left">8</td><td class="left">4</td><td class="left">2</td><td class="left">1</td><td class="left"></td><td class="left">32</td><td class="left">16</td><td class="left">8</td><td class="left">4</td><td class="left">2</td><td class="left">1</td></tr>
</tbody>
<tbody>
<tr><td class="left"></td><td class="left">X</td><td class="left"></td><td class="left">X</td><td class="left"></td><td class="left">X</td><td class="left"></td><td class="left"></td><td class="left">X</td><td class="left"></td><td class="left">X</td></tr>
</tbody>
</table>


<p>
   When the lights change to a pattern like <code>-X-X X--X-X</code> (example above), you
   can see that the hours sum 4 + 1 to make 5, and the minutes sum
   32 + 4 + 1 to make 37. Or 5:37, in the mundane terms used by
   ordinary humans that are not as smart or clever as you.
</p>
<p>
   Here are some other examples:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption></caption>
<colgroup><col class="left" /><col class="left" /><col class="right" />
</colgroup>
<thead>
<tr><th scope="col" class="left">Lights</th><th scope="col" class="left">Sum</th><th scope="col" class="right">Time</th></tr>
</thead>
<tbody>
<tr><td class="left"><code>X--- ------</code></td><td class="left">Hours(8 + 0 + 0 + 0) : Minutes(0 + 0 + 0 + 0 + 0 + 0)</td><td class="right">8:00</td></tr>
<tr><td class="left"><code>-XX- --X-X-</code></td><td class="left">Hours(0 + 4 + 2 + 0) : Minutes(0 + 0 + 8 + 0 + 2 + 0)</td><td class="right">6:10</td></tr>
<tr><td class="left"><code>X--X X-XXX-</code></td><td class="left">Hours(8 + 0 + 0 + 1) : Minutes(32 + 0 + 8 + 4 + 2 + 0)</td><td class="right">9:46</td></tr>
</tbody>
</table>


<p>
   This is great for parties! If someone asks you the time, you can
   say "one zero zero zero one one zero zero zero one!" They'll never
   ask you an inane question like that again!
</p>
<p>
   If you keep these instructions in a safe, <i>secret</i> place, only
   <b>you</b> will be able to read the Binary Clock<sup>TM</sup>. <i>Sneaky!</i>
</p>
<p>
   You've probably already noticed that you have to be fast to read
   the time display. That's because it's only shown for five seconds
   before the display and the Binary Processor<sup>TM</sup> is shut down to save
   precious battery power. We have no idea if this will actually
   <i>help</i> preserve battery power, but it seemed like a good idea at
   the time.
</p>
</div>

</div>

<div id="outline-container-2_4" class="outline-3">
<h3 id="sec-2_4"><span class="section-number-3">2.4</span> Tick </h3>
<div class="outline-text-3" id="text-2_4">


<p>
   Because the budget couldn't stretch to installing a speaker, this
   clock ticks "visually" by blinking the leftmost minutes LED (it's
   coloured green to stand out) once per second. 
</p>
<p>
   It may not be a good idea to try to clear airport security with
   this clock running and on your person. Especially in Boston.
</p>
</div>
</div>

</div>

<div id="outline-container-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> Troubleshooting </h2>
<div class="outline-text-2" id="text-3">


<p>
  If you have any problems with your Binary Clock<sup>TM</sup>, it's probably
  not our fault. We assembled this clock using only the best of the
  cheapest and most obsolete materials possible so that it could cost
  less than CDN$5.00. And even then, what can you expect of something
  that was so cheaply and shoddily made? You're lucky it turns on at
  all, you ungrateful person!
</p>
<p>
  A schematic is included. It might help to pinpoint simple problems
  like a loose wire (like that would <i>ever</i> happen!), but since most
  of the clock's operation is in the microcontroller firmware, you may
  find it to be an empty gesture.
</p>
<p>
  If the clock seems to be running too fast or too slow, or the
  display messes up, try setting it using the "SET" button or
  replacing the battery. Frankly, the software was written in such
  haste with no formal testing whatsoever that it's kind of a shocking
  wonder that the thing turns on at all, so don't be too surprised if
  that doesn't help. Really, if you think if it more as a random
  number generator than a clock, you may not be as disappointed.
</p>
</div>

</div>

<div id="outline-container-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> Theory of Operation </h2>
<div class="outline-text-2" id="text-4">


<p>
  The Binary Clock<sup>TM</sup> is powered by an ATMEL AT90S2313 processor
  running at 4Mhz. It drives a multiplexed display from a single
  output port, using the low six bits for the columns and the top two,
  alternately held low, for row select.
</p>
<p>
  A four level state machine is used to INITIALIZE the clock, then
  DISPLAY the current time for five seconds. At the start of every
  second, it goes into BLINK state to light up the "tick" LED for
  200ms. DISPLAY and TICK state shift through to WAIT state, which
  puts the processor into idle mode to save battery power until the
  next clock interrupt.
</p>
<p>
  Because the TICK LED is on one of the programming lines if the
  optional AVR<sub>ISP</sub><sub>6</sub> programming connector is wired in, it will blink
  when data is up or downloaded to the chip. 
</p>
</div>

</div>

<div id="outline-container-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> Recycling </h2>
<div class="outline-text-2" id="text-5">


<p>
  All jokes aside, this is an actual working processor with a
  (somewhat) sophisticated multiplexed display. 
</p>
<p>
  There's another 7 pin I/O port available for more fun if you want to
  add other nifties like actual set buttons or whatever. If you hook
  up the programming interface (left as an exercise for the user), you
  can reprogram the clock without having to remove the chip. No lock
  fuses are set (this chip doesn't seem to have any) so you can
  examine or change the code to your heart's content.
</p>
<p>
  Programming tools can be found at <a href="http://www.atmel.com">http://www.atmel.com</a>. AVR Studio
  V4.19 with the GNU Compiler Toolchain was used for this project. You
  may also need a programming pod. I used an AVR ISP mkII, which I got
  from DigiKey. Another source local to Toronto is the Creatron store
  at College and Spadina.
</p>
<p>
  If you want to transplant the chip into some more interesting project
  of your own, you can just pull it out of the socket.
</p>
<p>
  The crystal and battery holder should be trivially removable if you
  think you can use them with something else.
</p>
<p>
  Please dispose of anything you can't desolder according to your
  city's electronic waste protocol.
</p>
</div>

</div>

<div id="outline-container-6" class="outline-2">
<h2 id="sec-6"><span class="section-number-2">6</span> Acknowledgements </h2>
<div class="outline-text-2" id="text-6">


<p>
  Many thanks to @rev, @david.prentice and @clawson on the AVR Freaks
  AVR Studio 5 forum for helping me get my development environment up
  and running again after upgrading my computer to the
  Windows-That-Hates-Serial-Ports.
</p>
<p>
  Also @kk6gm, @DO1THL and @DocJC on the AVR (8-bit) Technical Forums
  provided valuable assistance and suggestions when I was trying to
  figure out a nasty problem with my development setup.
</p>
<p>
  And of course, my wife, for putting up with solder blobs, wire ends,
  and&hellip; me! 
</p></div>
</div>
<div id="postamble">
<p class="author">Author: JRLF</p>
<p class="creator">Org version 7.5 with Emacs version 23</p>
<a href="http://validator.w3.org/check?uri=referer">Validate XHTML 1.0</a>
</div>
</div>
</body>
</html>
