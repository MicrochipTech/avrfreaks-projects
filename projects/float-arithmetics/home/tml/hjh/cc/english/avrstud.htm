<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title></title>
</head>
<body>
<a href="themen.htm">Themen</a> / <a href="00idx.htm">Inhaltsliste</a>
/ <a href="../deutsch/avrstud.htm">Deutsch</a>
<h2>AVR Studio with Plugin AVRGCC</h2>
<h3><a name="content"></a> Content (automatic) </h3>
<ul>
  <li><a href="#content">#content</a> : Content (automatic) </li>
  <li><a href="#install">#install</a> : Installation </li>
  <li><a href="#invoke">#invoke</a> : Invocation </li>
  <li><a href="#prepare">#prepare</a> : Project preparation </li>
  <li><a href="#projects">#projects</a> : Certified Projects, (which
did compile) </li>
  <li><a href="#seealso">#seealso</a> : See also </li>
</ul>
How to use AVR Studio with Plugin AVRGCC to compile some of the cpp
files from HOME\CC\...<br>
<br>
<h3><a name="install"></a>Installation</h3>
Download gnuavr from (File: [WinAVR-20060125-install.exe]) from sf.net <a
 href="http://winavr.sourceforge.net">http://winavr.sourceforge.net</a><br>
Download Atmel AVR Studio 4 (File : [aStudio4.12SP1b462.exe]) from the
Atmel home page <a href="http://www.atmel.com">http://www.atmel.com</a><br>
Download&nbsp; (File: PONYPROGV206F) from teh lancos homepage <a
 href="http://www.lancos.com/">
http://www.lancos.com/</a><br>
<br>
First install winavr, which installs as well sh, and other tools to
C:\WinAVR\bin its help is installed in C:\WinAVR\doc ...,<br>
<a href="file:///C:/WinAVR/doc/avr-libc/avr-libc-user-manual-1.4.3.pdf">C:\WinAVR\doc\avr-libc\avr-libc-user-manual-1.4.3.pdf</a>
- <br>
<a href="file:///C:/WinAVR/doc/gcc/cpp.pdf">C:\WinAVR\doc\gcc\cpp.pdf</a>
- <br>
<a href="file:///C:/WinAVR/doc/gcc/gcc.pdf">C:\WinAVR\doc\gcc\gcc.pdf</a>
- <br>
<a href="file:///C:/WinAVR/doc/simulavr-0.1.2.1/simulavr.pdf">C:\WinAVR\doc\simulavr-0.1.2.1\simulavr.pdf</a>
- <br>
<br>
Then install and start the Atmel AVR Studio.<br>
<h3><a name="invoke"></a>Invocation</h3>
[Start] [Programs] [Atmel AVR Tools] [AVR STudio 4]<br>
<br>
<h3><a name="prepare"></a>Project preparation</h3>
[Project] [New Project]<br>
Project Type : AVR GCC<br>
Location : C:\HOME\CC\QQ\AVR<br>
[ ] Create initial file (untick this option - you will use one of the
files in the directory C:\HOME\CC\QQ)<br>
Project name: QQTRAFF<br>
-- Next &gt;&gt; --<br>
Select Platform AVR Simulator, Device AT90S2323 or 8535, whatever<br>
<br>
Now you see the AVR Studio with an empty project.<br>
<code>&nbsp; QQTRAFF (default)<br>
&nbsp;&nbsp; +- Source Files<br>
&nbsp;&nbsp; +- Header Files<br>
&nbsp;&nbsp; +- External Dependencies<br>
&nbsp;&nbsp; +- Other Files</code><br>
<br>
Right Click [Source Files],&nbsp; Add existing source files qqtraff.cpp<br>
<br>
[Project] [Configuration Options] <br>
Select left, "Include Directories" [Add...] C:\HOME\CC\INCLUDE<br>
<br>
Now leave the AVR studio and edit the Makefile: copy the makfeile
e.g.from C:\HOME\CC\QQ\AVR\QQTSHAR\Makefile to the new project
directory (e.g. to C:\HOME\CC\UTIL\AVR\explname\Makefile and edit it:
Replace the projects and main programs name, and add more library files.<br>
<br>
Add a line which tells
to make the creation of an object file, depend on a CPP file:<br>
.o.cpp:<br>
Us an external Makefile, Use the Makefile from HOME\CC\QQ\AVR\QQTRAFF
as <br>
<br>
Errors:<br>
Problem with "Microsoft Visual C++ Runtime Library".<br>
(Problem occures sometimes - so save the workspace from time to time)<br>
<br>
Problem when continune the same directory<br>
Message: Mapped files at 'C:\HOME\cc\qq\AVR\QQTSHAR\' to
'C:\HOME\cc\qq\AVR\QQTSHAR\'.<br>
<br>
In the source files use <span style="font-weight: bold;">#if !defined
AVR</span> to have code to be compiled for usage with the AVR only.<br>
<h3><a name="projects"></a>Certified Projects, (which did compile)</h3>
<table border="1">
  <tbody>
    <tr>
      <th>Project</th>
      <th>Build OK</th>
      <th>Simulation o.k.</th>
      <th>target o.k.</th>
      <td style="vertical-align: top;">Comment to the status<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">qqmain<br>
      </td>
      <td style="vertical-align: top;"><br>
      </td>
      <td style="vertical-align: top;"><br>
      </td>
      <td style="vertical-align: top;"><br>
      </td>
      <td style="vertical-align: top;"><br>
      </td>
    </tr>
    <tr>
      <td>qqtraff</td>
      <td> 2006-05-21<br>
      </td>
      <td> <br>
      </td>
      <td><br>
      </td>
      <td style="vertical-align: top;">Needs to simulate faster. Needs
to check to burn in a hardware<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">qqtshar<br>
      </td>
      <td style="vertical-align: top;">2006-05-23<br>
      </td>
      <td style="vertical-align: top;">2006-05-23<br>
      </td>
      <td style="vertical-align: top;">You will not see it runs<br>
      </td>
      <td style="vertical-align: top;">may be optimized / programmed
again in assembler<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">qqtstraf<br>
      </td>
      <td style="vertical-align: top;"><br>
      </td>
      <td style="vertical-align: top;"><br>
      </td>
      <td style="vertical-align: top;"><br>
      </td>
      <td style="vertical-align: top;">should blink, but uses the tshar
to create the time slices<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">qqtsser<br>
      </td>
      <td style="vertical-align: top;">2006-08-08<br>
      </td>
      <td style="vertical-align: top;"><br>
      </td>
      <td style="vertical-align: top;"><br>
      </td>
      <td style="vertical-align: top;">perform a simple dialog, using
tshar to create the time slices and tsser to access the serial IO<br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<h3><a name="rashes"></a>Crashes with WinAVR Version 4.12 Service Pack
4 Build 498</h3>
AVR Studio&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 4.12.498&nbsp; Service
Pack 4<br>
GUI Version&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 4, 12, 0, 491<br>
AVR Simulator&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 1, 0, 1, 8<br>
ATmega8535&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 213<br>
<br>
Operating System<br>
Major&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 5<br>
Minor&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 1<br>
PlatformID&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 2<br>
Build&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 2600<br>
Service Pack 2<br>
<br>
Plugins:<br>
<br>
AvrLcdPlugin&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 1, 0, 0, 13<br>
AvrPluginAvrAsmObject&nbsp;&nbsp;&nbsp; 1, 0, 0, 43<br>
AvrPluginavrgccplugin&nbsp;&nbsp;&nbsp; 1, 0, 0, 6<br>
Stk500Dll&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; 1, 0,
1, 0<br>
<br>
<br>
<h4>Disassembler:</h4>
Have a project in Debug simulation ATMEGA8535, a WinAVR Project with
external makefile<br>
View Disassembler<br>
Use the mouse wheel to roll up and down<br>
<h3><a name="seealso"></a>See also</h3>
<a href="linavr.htm">linavr.htm</a> - Usage in Linux<br>
<a href="winavr.htm">winavr.htm</a> - Usage of WinAVR in Windows (2000)
XP<br>
<h3><a name="www"></a>www</h3>
<ul>
  <li><a href="http://winavr.sourceforge.net/">http://winavr.sourceforge.net</a>
- WinAVR</li>
  <li><a href="http://www.atmel.com/">http://www.atmel.com</a>- The
ATMEL homepage</li>
  <li><a href="http://www.atmel.com/dyn/products/support.asp">http://www.atmel.com/dyn/products/support.asp</a>
- The Support Submit form to report error in AVR Studio<br>
  </li>
  <li><a href="http://www.lancos.com/">http://www.lancos.com/</a>- The
Ponyprog homepage</li>
</ul>
<br>
<br>
<br>
</body>
</html>
