\hypertarget{usart_8c}{
\section{usart.c File Reference}
\label{usart_8c}\index{usart.c@{usart.c}}
}
{\tt \#include \char`\"{}define.h\char`\"{}}\par
\subsection*{Defines}
\begin{CompactItemize}
\item 
\#define \hyperlink{usart_8c_a0}{RXBUFSIZE}~100
\end{CompactItemize}
\subsection*{Functions}
\begin{CompactItemize}
\item 
void \hyperlink{usart_8c_a4}{init\_\-USART} (uint32\_\-t baud, \hyperlink{define_8h_a29}{BOOL} RX\_\-ON)
\item 
void \hyperlink{usart_8c_a5}{write\_\-USART} (uint8\_\-t $\ast$buf, uint8\_\-t length)
\item 
void \hyperlink{usart_8c_a6}{write\_\-USART\_\-B} (uint8\_\-t c)
\item 
\hyperlink{define_8h_a29}{BOOL} \hyperlink{usart_8c_a7}{read\_\-USART} (uint8\_\-t $\ast$c)
\item 
\hyperlink{usart_8c_a8}{SIGNAL} (SIG\_\-UART\_\-RECV)
\end{CompactItemize}
\subsection*{Variables}
\begin{CompactItemize}
\item 
uint8\_\-t \hyperlink{usart_8c_a1}{circ\-RXArray} \mbox{[}RXBUFSIZE\mbox{]}
\end{CompactItemize}


\subsection{Detailed Description}
This function takes care of the USART. This is the lowest possible OSI-layer on the MCU. 

\subsection{Define Documentation}
\hypertarget{usart_8c_a0}{
\index{usart.c@{usart.c}!RXBUFSIZE@{RXBUFSIZE}}
\index{RXBUFSIZE@{RXBUFSIZE}!usart.c@{usart.c}}
\subsubsection[RXBUFSIZE]{\setlength{\rightskip}{0pt plus 5cm}\#define RXBUFSIZE~100}}
\label{usart_8c_a0}


$<$Size of the circular buffer for receiving characters. 

\subsection{Function Documentation}
\hypertarget{usart_8c_a4}{
\index{usart.c@{usart.c}!init_USART@{init\_\-USART}}
\index{init_USART@{init\_\-USART}!usart.c@{usart.c}}
\subsubsection[init\_\-USART]{\setlength{\rightskip}{0pt plus 5cm}void init\_\-USART (uint32\_\-t {\em baud}, \hyperlink{define_8h_a29}{BOOL} {\em RX\_\-ON})}}
\label{usart_8c_a4}


Set the USART with baud, enable RX and TX, enable IRQ on receiving data. \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em baud}]Baudrate in \mbox{[}bps\mbox{]} \item[{\em RX\_\-ON}]Enable receiving UART-data when true. \end{description}
\end{Desc}
\hypertarget{usart_8c_a7}{
\index{usart.c@{usart.c}!read_USART@{read\_\-USART}}
\index{read_USART@{read\_\-USART}!usart.c@{usart.c}}
\subsubsection[read\_\-USART]{\setlength{\rightskip}{0pt plus 5cm}\hyperlink{define_8h_a29}{BOOL} read\_\-USART (uint8\_\-t $\ast$ {\em c})}}
\label{usart_8c_a7}


Function that reads a character from the circular receive buffer. \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em c}]Pointer to a character. The read character will be written to that address. \end{description}
\end{Desc}
\hypertarget{usart_8c_a8}{
\index{usart.c@{usart.c}!SIGNAL@{SIGNAL}}
\index{SIGNAL@{SIGNAL}!usart.c@{usart.c}}
\subsubsection[SIGNAL]{\setlength{\rightskip}{0pt plus 5cm}SIGNAL (SIG\_\-UART\_\-RECV)}}
\label{usart_8c_a8}


ISR-UART receive. This ISR will be called every time a character comes in. The character will then be written to a receive buffer. \hypertarget{usart_8c_a5}{
\index{usart.c@{usart.c}!write_USART@{write\_\-USART}}
\index{write_USART@{write\_\-USART}!usart.c@{usart.c}}
\subsubsection[write\_\-USART]{\setlength{\rightskip}{0pt plus 5cm}void write\_\-USART (uint8\_\-t $\ast$ {\em buf}, uint8\_\-t {\em length})}}
\label{usart_8c_a5}


Send a characterbuffer to the USART \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em buf}]Pointer to buffer that contains data to be sent \item[{\em length}]Number of bytes to be sent \end{description}
\end{Desc}
\hypertarget{usart_8c_a6}{
\index{usart.c@{usart.c}!write_USART_B@{write\_\-USART\_\-B}}
\index{write_USART_B@{write\_\-USART\_\-B}!usart.c@{usart.c}}
\subsubsection[write\_\-USART\_\-B]{\setlength{\rightskip}{0pt plus 5cm}void write\_\-USART\_\-B (uint8\_\-t {\em c})}}
\label{usart_8c_a6}


Write one character to the UART \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em c}]The character that must be sent. \end{description}
\end{Desc}


\subsection{Variable Documentation}
\hypertarget{usart_8c_a1}{
\index{usart.c@{usart.c}!circRXArray@{circRXArray}}
\index{circRXArray@{circRXArray}!usart.c@{usart.c}}
\subsubsection[circRXArray]{\setlength{\rightskip}{0pt plus 5cm}uint8\_\-t \hyperlink{usart_8c_a1}{circ\-RXArray}\mbox{[}RXBUFSIZE\mbox{]}}}
\label{usart_8c_a1}


Circular array containing the incoming data bytes. 