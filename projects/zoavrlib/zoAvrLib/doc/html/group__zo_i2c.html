<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>01 Mechatronics Avr Library: zoI2c.h : I2C function library.</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>zoI2c.h : I2C function library.<br/>
<small>
[<a class="el" href="group__driver__avr.html">Avr Hardware Drivers</a>]</small>
</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_i2c.html#gac641751acdc74f64f7875fc59edcb330">ZO_I2C_ENABLE_MASTER_TRANSMIT</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_i2c.html#ga1595593768951b933c876b9b549828cc">ZO_I2C_ENABLE_MASTER_RECEIVE</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaf6db5241fcf2de2d0ac996d1119924d3"></a><!-- doxytag: member="zoI2c::ZO_I2C_ERROR_NONE" ref="gaf6db5241fcf2de2d0ac996d1119924d3" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>ZO_I2C_ERROR_NONE</b>&nbsp;&nbsp;&nbsp;0x00</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_i2c.html#gaac519e60561c508c88db71ace34fc47a">ZO_I2C_ERROR_NODEV</a>&nbsp;&nbsp;&nbsp;0x01</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_i2c.html#gaed12c742288a6b2ea2ff0fd9425ca759">ZO_I2C_ERROR_BUS_ERROR</a>&nbsp;&nbsp;&nbsp;0x02</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_i2c.html#gaf18e8fa7ed9ee6db9da7ebe30382e89c">ZO_I2C_ERROR_ARBITRATION_LOST</a>&nbsp;&nbsp;&nbsp;0x03</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_i2c.html#gaa85100a9de25b083c9592b4909821e7a">ZO_I2C_ERROR_INDETERMINATE</a>&nbsp;&nbsp;&nbsp;0x04</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_i2c.html#ga569e4760fe55fc03e5b218c1c2137f80">ZO_I2C_ERROR_WAIT_ON_BUS_READY_TIMEOUT</a>&nbsp;&nbsp;&nbsp;0x05</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_i2c.html#ga3f4c245231f5a9e1ac2ea41b5a624a5c">ZO_I2C_ERROR_WAIT_ON_TRANSMIT_TIMEOUT</a>&nbsp;&nbsp;&nbsp;0x06</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_i2c.html#ga756246bb1a7a4e6bee8676a000208ff2">ZO_I2C_ERROR_WAIT_ON_RECEIVE_TIMEOUT</a>&nbsp;&nbsp;&nbsp;0x07</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaeec47e7d1e1108b101578e0826f31835"></a><!-- doxytag: member="zoI2c::ZO_I2C_DEFAULT_BITRATE_KHZ" ref="gaeec47e7d1e1108b101578e0826f31835" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>ZO_I2C_DEFAULT_BITRATE_KHZ</b>&nbsp;&nbsp;&nbsp;100</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaba37d0d46ff475be13bc8c3cf84aa0ae"></a><!-- doxytag: member="zoI2c::ZO_I2C_DEFAULT_WAIT_ON_BUS_READY_TIMEOUT_MILISECONDS" ref="gaba37d0d46ff475be13bc8c3cf84aa0ae" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>ZO_I2C_DEFAULT_WAIT_ON_BUS_READY_TIMEOUT_MILISECONDS</b>&nbsp;&nbsp;&nbsp;1000</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga88969376a1b9d77114eb1e83eff056b5"></a><!-- doxytag: member="zoI2c::ZO_I2C_DEFAULT_WAIT_ON_TRANSMIT_TIMEOUT_MILISECONDS" ref="ga88969376a1b9d77114eb1e83eff056b5" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>ZO_I2C_DEFAULT_WAIT_ON_TRANSMIT_TIMEOUT_MILISECONDS</b>&nbsp;&nbsp;&nbsp;1000</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga3fd711119bde1a9df6dba5ca132e005d"></a><!-- doxytag: member="zoI2c::ZO_I2C_DEFAULT_WAIT_ON_RECEIVE_TIMEOUT_MILISECONDS" ref="ga3fd711119bde1a9df6dba5ca132e005d" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>ZO_I2C_DEFAULT_WAIT_ON_RECEIVE_TIMEOUT_MILISECONDS</b>&nbsp;&nbsp;&nbsp;1000</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_i2c.html#ga60f81cc411b2c9cdaeab4ced3812b918">ZO_I2C_BUFFER_SIZE</a>&nbsp;&nbsp;&nbsp;32</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gac281ee5ffd48c105a275ba271eb8902c"></a><!-- doxytag: member="zoI2c::zoI2cInit" ref="gac281ee5ffd48c105a275ba271eb8902c" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_i2c.html#gac281ee5ffd48c105a275ba271eb8902c">zoI2cInit</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes the I2C AVR peripheral. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__zo_types.html#ga6156fe0b594c9754f386f6c6a30c8165">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_i2c.html#ga9bcbf2cc0ae2806dbc1331ad032c4d74">zoI2cSetBitrate</a> (<a class="el" href="group__zo_types.html#gace9d960e74685e2cd84b36132dbbf8aa">u16</a> bitrateKHz)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the I2C bitrate.  <a href="#ga9bcbf2cc0ae2806dbc1331ad032c4d74"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__zo_types.html#ga6156fe0b594c9754f386f6c6a30c8165">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_i2c.html#ga5663c5b32d21d54f1a7ef81e3f815233">zoI2cSetLocalDeviceAddr</a> (<a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a> deviceAddr, <a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a> genCallEn)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the local slave device address. A master uses this address to communicate to this MCU.  <a href="#ga5663c5b32d21d54f1a7ef81e3f815233"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_i2c.html#ga2b73875f75377096274f652cbd268e2e">zoI2cSetWaitOnBusReadyTimeOut</a> (<a class="el" href="group__zo_types.html#gace9d960e74685e2cd84b36132dbbf8aa">u16</a> miliseconds)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the time the MCU waits for SDA to go high. If this time is exceeded during a master I2C transaction an error is generated.  <a href="#ga2b73875f75377096274f652cbd268e2e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_i2c.html#ga233aba29c1cc9befae6d3ff1799f63d7">zoI2cSetWaitOnTransmitTimeOut</a> (<a class="el" href="group__zo_types.html#gace9d960e74685e2cd84b36132dbbf8aa">u16</a> miliseconds)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the time the MCU waits for a master transmission to end.  <a href="#ga233aba29c1cc9befae6d3ff1799f63d7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_i2c.html#gace34d783b94716c2f06eaa7e2c3e7813">zoI2cSetWaitOnReceiveTimeOut</a> (<a class="el" href="group__zo_types.html#gace9d960e74685e2cd84b36132dbbf8aa">u16</a> miliseconds)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the time the MCU waits for a slave to respond to a master receive I2C transaction.  <a href="#gace34d783b94716c2f06eaa7e2c3e7813"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_i2c.html#ga0bba98535b088bec67057b223a72f5aa">zoI2cSetSlaveReceiveHandler</a> (void(*i2cSlaveRx_func)(<a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a> receiveDataLength, <a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a> *receiveData))</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to easily assign a user function to the slave receive ISR function handler.  <a href="#ga0bba98535b088bec67057b223a72f5aa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_i2c.html#gafccfdd3a1e475fe12194f0a324df1201">zoI2cSetSlaveTransmitHandler</a> (<a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a>(*i2cSlaveTx_func)(<a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a> transmitDataLengthMax, <a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a> *transmitData))</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to easily assign a user function to the slave transmit ISR function handler.  <a href="#gafccfdd3a1e475fe12194f0a324df1201"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__zo_types.html#ga6156fe0b594c9754f386f6c6a30c8165">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_i2c.html#ga0925fcf1649ab379ccdc063f9499bf0a">zoI2cMasterSend</a> (<a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a> deviceAddr, <a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a> length, <a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a> *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a byte array over I2C as master.  <a href="#ga0925fcf1649ab379ccdc063f9499bf0a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__zo_types.html#ga6156fe0b594c9754f386f6c6a30c8165">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_i2c.html#gaef0eabeb1407215b09cca2ecd7b8f9d0">zoI2cMasterSendBlocking</a> (<a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a> deviceAddr, <a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a> length, <a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a> *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a byte array over I2C as master AND wait until the transaction has finished.  <a href="#gaef0eabeb1407215b09cca2ecd7b8f9d0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__zo_types.html#ga6156fe0b594c9754f386f6c6a30c8165">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_i2c.html#gabba0faa2b3544146515052905452e404">zoI2cMasterReceive</a> (<a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a> deviceAddr, <a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a> length, <a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a> *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Request data from an I2C slave.  <a href="#gabba0faa2b3544146515052905452e404"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga64172f8680310995e30f7772df6d9111"></a><!-- doxytag: member="zoI2c::zoI2cSendStart" ref="ga64172f8680310995e30f7772df6d9111" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_i2c.html#ga64172f8680310995e30f7772df6d9111">zoI2cSendStart</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a start on the I2C bus. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gac12c527a6ba75313b0655b1abc4d3ef5"></a><!-- doxytag: member="zoI2c::zoI2cSendStop" ref="gac12c527a6ba75313b0655b1abc4d3ef5" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_i2c.html#gac12c527a6ba75313b0655b1abc4d3ef5">zoI2cSendStop</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a stop on the I2C bus. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga800b72b9a19f27a7a2386c289e4655e2"></a><!-- doxytag: member="zoI2c::zoI2cWaitForComplete" ref="ga800b72b9a19f27a7a2386c289e4655e2" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_i2c.html#ga800b72b9a19f27a7a2386c289e4655e2">zoI2cWaitForComplete</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wait for an I2C transaction to finish. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga7c31860c9a8f9acb04b82bf1a084f30e"></a><!-- doxytag: member="zoI2c::zoI2cSendByte" ref="ga7c31860c9a8f9acb04b82bf1a084f30e" args="(u08 data)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_i2c.html#ga7c31860c9a8f9acb04b82bf1a084f30e">zoI2cSendByte</a> (<a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a> data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a byte over I2C. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa0cb81da3d34d43c14ec0eacb82e90b5"></a><!-- doxytag: member="zoI2c::zoI2cAcknowledgeRx" ref="gaa0cb81da3d34d43c14ec0eacb82e90b5" args="(bool acknowledge)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_i2c.html#gaa0cb81da3d34d43c14ec0eacb82e90b5">zoI2cAcknowledgeRx</a> (<a class="el" href="group__zo_types.html#ga6156fe0b594c9754f386f6c6a30c8165">bool</a> acknowledge)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Acknowledge a received byte. <br/></td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa03834cf7af32ca1ebd8eaf4335165e0"></a><!-- doxytag: member="zoI2c::zoI2cError" ref="gaa03834cf7af32ca1ebd8eaf4335165e0" args="" -->
<a class="el" href="struct_z_o___e_r_r_o_r.html">ZO_ERROR</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_i2c.html#gaa03834cf7af32ca1ebd8eaf4335165e0">zoI2cError</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The I2C error buffer. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<dl class="user"><dt><b>Overview</b></dt><dd>This is a library that provides high level functionality for the AVR I2C peripheral (or Two wire according to Atmel datasheets). Special thanks to Pascal Stang for implementing a great deal of this code and to Marek Michalkiewicz for providing the I2C state defines.</dd></dl>
<dl class="user"><dt><b>Usage example: I2C slave operation </b></dt><dd><div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &quot;<a class="code" href="zo_i2c_8h.html" title="I2C/Two wire function library.">zoI2c.h</a>&quot;</span>
<span class="preprocessor"> #include &quot;<a class="code" href="zo_types_8h.html" title="Types used in zoAvrLib.">zoTypes.h</a>&quot;</span>
<span class="preprocessor"> #include &quot;<a class="code" href="zo_string_8h.html" title="Conversion of strings to integers and vice versa.">zoString.h</a>&quot;</span>

 <a class="code" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693" title="unsigned 8-bit integer">u08</a> MyString[13] = <span class="stringliteral">&quot;Hello World!&quot;</span>;         <span class="comment">//12 characters and a null</span>
 <a class="code" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693" title="unsigned 8-bit integer">u08</a> MyIncomingBuffer[<a class="code" href="group__zo_i2c.html#ga60f81cc411b2c9cdaeab4ced3812b918">ZO_I2C_BUFFER_SIZE</a>];  <span class="comment">//storage for incoming I2C messages</span>
 <span class="comment">//the above global buffer should be protected from ISRs in code - see zoMcu.h</span>

 <span class="comment">//user function to be called when the MCU is addressed as slave for reception</span>
 <span class="keywordtype">void</span> mySlaveReceiveFunction(<a class="code" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693" title="unsigned 8-bit integer">u08</a> receiveDataLength, <a class="code" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693" title="unsigned 8-bit integer">u08</a>* receiveData);
 <span class="comment">//user function to be called when the MCU is addressed as slave for transmission</span>
 <a class="code" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693" title="unsigned 8-bit integer">u08</a> mySlaveTransmitFunction(<a class="code" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693" title="unsigned 8-bit integer">u08</a> transmitDataLengthMax, <a class="code" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693" title="unsigned 8-bit integer">u08</a>* transmitData);
 
 <span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)
 {
    <a class="code" href="group__zo_i2c.html#gac281ee5ffd48c105a275ba271eb8902c" title="Initializes the I2C AVR peripheral.">zoI2cInit</a>();                        <span class="comment">//initialize I2c to 100KHz bitrate</span>
    <a class="code" href="group__zo_i2c.html#ga5663c5b32d21d54f1a7ef81e3f815233" title="Sets the local slave device address. A master uses this address to communicate to...">zoI2cSetLocalDeviceAddr</a>(0x04,1);    <span class="comment">//set the MCU slave address to 0x04 and</span>
                                        <span class="comment">//configure acceptance of I2C broadcast msgs.</span>

    <span class="comment">//initialize the slave receive handler to the user-provided function</span>
    <a class="code" href="group__zo_i2c.html#ga0bba98535b088bec67057b223a72f5aa" title="Function to easily assign a user function to the slave receive ISR function handler...">zoI2cSetSlaveReceiveHandler</a>(mySlaveReceiveFunction);
    <span class="comment">//initialize the slave transmit handler to the user-provided function</span>
    <a class="code" href="group__zo_i2c.html#gafccfdd3a1e475fe12194f0a324df1201" title="Function to easily assign a user function to the slave transmit ISR function handler...">zoI2cSetSlaveTransmitHandler</a>(mySlaveTransmitFunction);

    <span class="keywordflow">while</span>(1);   <span class="comment">//wait until we are addressed as I2C slaves.</span>
 }

 <span class="comment">// Both user slave functions are executed inside the I2C ISR. There is no need to </span>
 <span class="comment">// protect global variables here.( as AVR ISRs do not nest by default )</span>

 <span class="keywordtype">void</span> mySlaveReceiveFunction(<a class="code" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693" title="unsigned 8-bit integer">u08</a> receiveDataLength, <a class="code" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693" title="unsigned 8-bit integer">u08</a>* receiveData)
 {
    <span class="comment">//we received some data from an I2C master!</span>
    <a class="code" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693" title="unsigned 8-bit integer">u08</a> i;
    
    <span class="keywordflow">for</span>(i=0;i&lt;receiveDataLength;i++)            <span class="comment">//store them for now...</span>
        MyIncomingBuffer[i] = receiveData[i];
 }

 <a class="code" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693" title="unsigned 8-bit integer">u08</a> mySlaveTransmitFunction(<a class="code" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693" title="unsigned 8-bit integer">u08</a> transmitDataLengthMax, <a class="code" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693" title="unsigned 8-bit integer">u08</a>* transmitData)
 {
    <span class="comment">//now that we are addressed by an I2C master as slaves we will say to him</span>
    <span class="comment">//&quot;Hello world!&quot;. Of course the master can stop our transmission at will...</span>
    <span class="comment">//All depend on how many bytes the master asked for.</span>

    <a class="code" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693" title="unsigned 8-bit integer">u08</a> transmitLength;                             <span class="comment">//how many bytes to transmit</span>
    transmitData = MyString;                        <span class="comment">//assign the byte array to send</span>
    
    <span class="comment">//check to see if the I2C buffer is big enough</span>
    <span class="keywordflow">if</span>( 12 &gt; transmitDataLengthMax)                 <span class="comment">//if it isn&#39;t send as many bytes </span>
        transmitLength = transmitDataLengthMax;     <span class="comment">//as possible</span>
    <span class="keywordflow">else</span>                                            <span class="comment">//if it is: send 12 bytes</span>
        transmitLength = 12;                        <span class="comment">//we will not send the terminating</span>
 }                                                  <span class="comment">//null :)</span>
</pre></div> </dd></dl>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="gac641751acdc74f64f7875fc59edcb330"></a><!-- doxytag: member="zoI2c.h::ZO_I2C_ENABLE_MASTER_TRANSMIT" ref="gac641751acdc74f64f7875fc59edcb330" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZO_I2C_ENABLE_MASTER_TRANSMIT&nbsp;&nbsp;&nbsp;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Define for conditional compilation of the I2C library code. Enable master transmit functionality by assigning a 1 to this define. Disable (and do not compile at all) master transmit functionality by assigning a zero to this define. </p>

</div>
</div>
<a class="anchor" id="ga1595593768951b933c876b9b549828cc"></a><!-- doxytag: member="zoI2c.h::ZO_I2C_ENABLE_MASTER_RECEIVE" ref="ga1595593768951b933c876b9b549828cc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZO_I2C_ENABLE_MASTER_RECEIVE&nbsp;&nbsp;&nbsp;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Define for conditional compilation of the I2C library code. Enable master receive functionality by assigning a 1 to this define. Disable (and do not compile at all) master receive functionality by assigning a zero to this define. </p>

</div>
</div>
<a class="anchor" id="gaac519e60561c508c88db71ace34fc47a"></a><!-- doxytag: member="zoI2c.h::ZO_I2C_ERROR_NODEV" ref="gaac519e60561c508c88db71ace34fc47a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZO_I2C_ERROR_NODEV&nbsp;&nbsp;&nbsp;0x01</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This error indicates that the I2C slave address used in the last communication does not exist. To resolve this error: Double check the slave settings, check cabling. </p>

</div>
</div>
<a class="anchor" id="gaed12c742288a6b2ea2ff0fd9425ca759"></a><!-- doxytag: member="zoI2c.h::ZO_I2C_ERROR_BUS_ERROR" ref="gaed12c742288a6b2ea2ff0fd9425ca759" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZO_I2C_ERROR_BUS_ERROR&nbsp;&nbsp;&nbsp;0x02</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This error indicates that the I2C bus is in an error state. To resolve this error: Double check settings of all I2C devices on the bus, check I2C pull-ups, check cabling. </p>

</div>
</div>
<a class="anchor" id="gaf18e8fa7ed9ee6db9da7ebe30382e89c"></a><!-- doxytag: member="zoI2c.h::ZO_I2C_ERROR_ARBITRATION_LOST" ref="gaf18e8fa7ed9ee6db9da7ebe30382e89c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZO_I2C_ERROR_ARBITRATION_LOST&nbsp;&nbsp;&nbsp;0x03</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This error indicates that we issued a master command on the I2C bus simultaneously with another bus master, which won the I2C arbitration. This means that the communication transaction we issued did not appear on the I2C bus. If you get this error write user code that attempts the last I2C transaction again. </p>

</div>
</div>
<a class="anchor" id="gaa85100a9de25b083c9592b4909821e7a"></a><!-- doxytag: member="zoI2c.h::ZO_I2C_ERROR_INDETERMINATE" ref="gaa85100a9de25b083c9592b4909821e7a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZO_I2C_ERROR_INDETERMINATE&nbsp;&nbsp;&nbsp;0x04</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This error indicates that I2C got in an indeterminate state. Ignore this for the time being. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>identify when and why this error happens and document it. </dd></dl>

</div>
</div>
<a class="anchor" id="ga569e4760fe55fc03e5b218c1c2137f80"></a><!-- doxytag: member="zoI2c.h::ZO_I2C_ERROR_WAIT_ON_BUS_READY_TIMEOUT" ref="ga569e4760fe55fc03e5b218c1c2137f80" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZO_I2C_ERROR_WAIT_ON_BUS_READY_TIMEOUT&nbsp;&nbsp;&nbsp;0x05</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The MCU waited too long for a space on the I2C bus. ie The voltage on SDA and SCL is almost constantly at zero Volts. To resolve this error: 1)check the I2C pull-up resistors 2)check cabling 3)check for defective devices on the I2C bus 4)check power </p>

</div>
</div>
<a class="anchor" id="ga3f4c245231f5a9e1ac2ea41b5a624a5c"></a><!-- doxytag: member="zoI2c.h::ZO_I2C_ERROR_WAIT_ON_TRANSMIT_TIMEOUT" ref="ga3f4c245231f5a9e1ac2ea41b5a624a5c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZO_I2C_ERROR_WAIT_ON_TRANSMIT_TIMEOUT&nbsp;&nbsp;&nbsp;0x06</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The <a class="el" href="group__zo_i2c.html#gaef0eabeb1407215b09cca2ecd7b8f9d0" title="Send a byte array over I2C as master AND wait until the transaction has finished...">zoI2cMasterSendBlocking()</a> routine waited too long for the I2C ISR to finish sending data over I2C. To resolve this error: 1)double check settings and initialization 2) follow the procedure for resolving the ZO_I2C_ERROR_WAIT_ON_BUS_READY_TIMEOUT error. </p>

</div>
</div>
<a class="anchor" id="ga756246bb1a7a4e6bee8676a000208ff2"></a><!-- doxytag: member="zoI2c.h::ZO_I2C_ERROR_WAIT_ON_RECEIVE_TIMEOUT" ref="ga756246bb1a7a4e6bee8676a000208ff2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZO_I2C_ERROR_WAIT_ON_RECEIVE_TIMEOUT&nbsp;&nbsp;&nbsp;0x07</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The <a class="el" href="group__zo_i2c.html#gabba0faa2b3544146515052905452e404" title="Request data from an I2C slave.">zoI2cMasterReceive()</a> routine waited too long for the slave addressed to respond. To resolve this error follow the ZO_I2C_ERROR_WAIT_ON_BUS_READY_TIMEOUT error resolving strategy. </p>

</div>
</div>
<a class="anchor" id="ga60f81cc411b2c9cdaeab4ced3812b918"></a><!-- doxytag: member="zoI2c.h::ZO_I2C_BUFFER_SIZE" ref="ga60f81cc411b2c9cdaeab4ced3812b918" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZO_I2C_BUFFER_SIZE&nbsp;&nbsp;&nbsp;32</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The size of the I2C buffers. Change this define according to the largest byte array that is expected to be communicated over I2C. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>Replace fixed size buffers. </dd></dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga9bcbf2cc0ae2806dbc1331ad032c4d74"></a><!-- doxytag: member="zoI2c.h::zoI2cSetBitrate" ref="ga9bcbf2cc0ae2806dbc1331ad032c4d74" args="(u16 bitrateKHz)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__zo_types.html#ga6156fe0b594c9754f386f6c6a30c8165">bool</a> zoI2cSetBitrate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__zo_types.html#gace9d960e74685e2cd84b36132dbbf8aa">u16</a>&nbsp;</td>
          <td class="paramname"> <em>bitrateKHz</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the I2C bitrate. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>bitrateKHz</em>&nbsp;</td><td>the bitrate in KHz. Default value is 100 </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Wether the bitrate given is valid or not. </dd></dl>

</div>
</div>
<a class="anchor" id="ga5663c5b32d21d54f1a7ef81e3f815233"></a><!-- doxytag: member="zoI2c.h::zoI2cSetLocalDeviceAddr" ref="ga5663c5b32d21d54f1a7ef81e3f815233" args="(u08 deviceAddr, u08 genCallEn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__zo_types.html#ga6156fe0b594c9754f386f6c6a30c8165">bool</a> zoI2cSetLocalDeviceAddr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a>&nbsp;</td>
          <td class="paramname"> <em>deviceAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a>&nbsp;</td>
          <td class="paramname"> <em>genCallEn</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the local slave device address. A master uses this address to communicate to this MCU. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>deviceAddr</em>&nbsp;</td><td>The desired slave address for this MCU. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>genCallEn</em>&nbsp;</td><td>Pass 0 to disable reception of I2C broadcast messages (to slave ID 0x00). Write 1 to enable. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Wether the slave address given is valid or not. </dd></dl>

</div>
</div>
<a class="anchor" id="ga2b73875f75377096274f652cbd268e2e"></a><!-- doxytag: member="zoI2c.h::zoI2cSetWaitOnBusReadyTimeOut" ref="ga2b73875f75377096274f652cbd268e2e" args="(u16 miliseconds)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zoI2cSetWaitOnBusReadyTimeOut </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__zo_types.html#gace9d960e74685e2cd84b36132dbbf8aa">u16</a>&nbsp;</td>
          <td class="paramname"> <em>miliseconds</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the time the MCU waits for SDA to go high. If this time is exceeded during a master I2C transaction an error is generated. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>miliseconds</em>&nbsp;</td><td>The timeout in miliseconds. Default value 1 sec </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga233aba29c1cc9befae6d3ff1799f63d7"></a><!-- doxytag: member="zoI2c.h::zoI2cSetWaitOnTransmitTimeOut" ref="ga233aba29c1cc9befae6d3ff1799f63d7" args="(u16 miliseconds)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zoI2cSetWaitOnTransmitTimeOut </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__zo_types.html#gace9d960e74685e2cd84b36132dbbf8aa">u16</a>&nbsp;</td>
          <td class="paramname"> <em>miliseconds</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the time the MCU waits for a master transmission to end. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>miliseconds</em>&nbsp;</td><td>The timeout in miliseconds. Default value 1 sec </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gace34d783b94716c2f06eaa7e2c3e7813"></a><!-- doxytag: member="zoI2c.h::zoI2cSetWaitOnReceiveTimeOut" ref="gace34d783b94716c2f06eaa7e2c3e7813" args="(u16 miliseconds)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zoI2cSetWaitOnReceiveTimeOut </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__zo_types.html#gace9d960e74685e2cd84b36132dbbf8aa">u16</a>&nbsp;</td>
          <td class="paramname"> <em>miliseconds</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the time the MCU waits for a slave to respond to a master receive I2C transaction. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>miliseconds</em>&nbsp;</td><td>The timeout in miliseconds. Default value 1 sec </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga0bba98535b088bec67057b223a72f5aa"></a><!-- doxytag: member="zoI2c.h::zoI2cSetSlaveReceiveHandler" ref="ga0bba98535b088bec67057b223a72f5aa" args="(void(*i2cSlaveRx_func)(u08 receiveDataLength, u08 *receiveData))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zoI2cSetSlaveReceiveHandler </td>
          <td>(</td>
          <td class="paramtype">void(*)(<a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a> receiveDataLength, <a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a> *receiveData)&nbsp;</td>
          <td class="paramname"> <em>i2cSlaveRx_func</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to easily assign a user function to the slave receive ISR function handler. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>i2cSlaveRx_func</em>&nbsp;</td><td>The user function (just pass the name of the function) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gafccfdd3a1e475fe12194f0a324df1201"></a><!-- doxytag: member="zoI2c.h::zoI2cSetSlaveTransmitHandler" ref="gafccfdd3a1e475fe12194f0a324df1201" args="(u08(*i2cSlaveTx_func)(u08 transmitDataLengthMax, u08 *transmitData))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zoI2cSetSlaveTransmitHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a>(*)(<a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a> transmitDataLengthMax, <a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a> *transmitData)&nbsp;</td>
          <td class="paramname"> <em>i2cSlaveTx_func</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to easily assign a user function to the slave transmit ISR function handler. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>i2cSlaveTx_func</em>&nbsp;</td><td>The user function (just pass the name of the function) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga0925fcf1649ab379ccdc063f9499bf0a"></a><!-- doxytag: member="zoI2c.h::zoI2cMasterSend" ref="ga0925fcf1649ab379ccdc063f9499bf0a" args="(u08 deviceAddr, u08 length, u08 *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__zo_types.html#ga6156fe0b594c9754f386f6c6a30c8165">bool</a> zoI2cMasterSend </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a>&nbsp;</td>
          <td class="paramname"> <em>deviceAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a>&nbsp;</td>
          <td class="paramname"> <em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a> *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send a byte array over I2C as master. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>deviceAddr</em>&nbsp;</td><td>The slave device addressed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>How many bytes to send over I2C. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>*data</em>&nbsp;</td><td>Pointer to the byte array to be sent. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Wether the MCU managed to issue the master send transaction. This does not necessarily mean that the slave received the command. </dd></dl>

</div>
</div>
<a class="anchor" id="gaef0eabeb1407215b09cca2ecd7b8f9d0"></a><!-- doxytag: member="zoI2c.h::zoI2cMasterSendBlocking" ref="gaef0eabeb1407215b09cca2ecd7b8f9d0" args="(u08 deviceAddr, u08 length, u08 *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__zo_types.html#ga6156fe0b594c9754f386f6c6a30c8165">bool</a> zoI2cMasterSendBlocking </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a>&nbsp;</td>
          <td class="paramname"> <em>deviceAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a>&nbsp;</td>
          <td class="paramname"> <em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a> *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send a byte array over I2C as master AND wait until the transaction has finished. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>deviceAddr</em>&nbsp;</td><td>The slave device addressed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>How many bytes to send over I2C. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>*data</em>&nbsp;</td><td>Pointer to the byte array to be sent. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Wether the data were actually sent with no errors. </dd></dl>

</div>
</div>
<a class="anchor" id="gabba0faa2b3544146515052905452e404"></a><!-- doxytag: member="zoI2c.h::zoI2cMasterReceive" ref="gabba0faa2b3544146515052905452e404" args="(u08 deviceAddr, u08 length, u08 *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__zo_types.html#ga6156fe0b594c9754f386f6c6a30c8165">bool</a> zoI2cMasterReceive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a>&nbsp;</td>
          <td class="paramname"> <em>deviceAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a>&nbsp;</td>
          <td class="paramname"> <em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a> *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Request data from an I2C slave. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>deviceAddr</em>&nbsp;</td><td>The slave device addressed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>How many bytes to receive over I2C. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>*data</em>&nbsp;</td><td>Pointer to the byte array where the incoming data will be stored. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Wether the data were actually received with no errors. </dd></dl>

</div>
</div>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Mon Mar 22 16:32:12 2010 for 01 Mechatronics Avr Library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
