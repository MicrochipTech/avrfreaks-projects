<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>01 Mechatronics Avr Library: zoUart.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>zoUart.h File Reference</h1>
<p>Uart 0 function library.  
<a href="#_details">More...</a></p>
<code>#include &lt;avr/io.h&gt;</code><br/>
<code>#include &lt;avr/interrupt.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="zo_mcu_8h_source.html">zoMcu.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="zo_types_8h_source.html">zoTypes.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="zo_error_8h_source.html">zoError.h</a>&quot;</code><br/>

<p><a href="zo_uart_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga3e7eafb7db5fb244ad96f2dca0f677f8"></a><!-- doxytag: member="zoUart.h::ZO_UART_DEFAULT_BAUD_RATE" ref="ga3e7eafb7db5fb244ad96f2dca0f677f8" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>ZO_UART_DEFAULT_BAUD_RATE</b>&nbsp;&nbsp;&nbsp;115200</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gad5ec423bc53237703a61916ce990cdad"></a><!-- doxytag: member="zoUart.h::ZO_UART_DEFAULT_DATA_BITS" ref="gad5ec423bc53237703a61916ce990cdad" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>ZO_UART_DEFAULT_DATA_BITS</b>&nbsp;&nbsp;&nbsp;ZO_UART_DATA_BITS_8</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gacaa1a864e6fc05d0e24b530222ec027b"></a><!-- doxytag: member="zoUart.h::ZO_UART_DEFAULT_PARITY" ref="gacaa1a864e6fc05d0e24b530222ec027b" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>ZO_UART_DEFAULT_PARITY</b>&nbsp;&nbsp;&nbsp;ZO_UART_PARITY_NONE</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gac2f8a9fdeefa663f58bd40c1cb30d3a7"></a><!-- doxytag: member="zoUart.h::ZO_UART_DEFAULT_STOP_BITS" ref="gac2f8a9fdeefa663f58bd40c1cb30d3a7" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>ZO_UART_DEFAULT_STOP_BITS</b>&nbsp;&nbsp;&nbsp;ZO_UART_STOP_BITS_1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga149dcb1c1332a20aba8f823baa9be855"></a><!-- doxytag: member="zoUart.h::ZO_UART_DEFAULT_TRANSMIT_TIMEOUT_MILISECONDS" ref="ga149dcb1c1332a20aba8f823baa9be855" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>ZO_UART_DEFAULT_TRANSMIT_TIMEOUT_MILISECONDS</b>&nbsp;&nbsp;&nbsp;1000</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga982e627ddc079680c30eb284517dbcd8"></a><!-- doxytag: member="zoUart.h::ZO_UART_DEFAULT_BUFFER_SIZE" ref="ga982e627ddc079680c30eb284517dbcd8" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>ZO_UART_DEFAULT_BUFFER_SIZE</b>&nbsp;&nbsp;&nbsp;32</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga8690f5b562d407df82062a37b189c728"></a><!-- doxytag: member="zoUart.h::ZO_UART_ERROR_NONE" ref="ga8690f5b562d407df82062a37b189c728" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>ZO_UART_ERROR_NONE</b>&nbsp;&nbsp;&nbsp;0x00</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_uart.html#ga5d3d97981dee21dadf9a7bf7ab8d75cb">ZO_UART_ERROR_MEMORY_ALLOCATION_ERROR</a>&nbsp;&nbsp;&nbsp;0x01</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_uart.html#ga8c311587021ad4c9d131eb325d13a135">ZO_UART_ERROR_RX_FRAME_ERROR</a>&nbsp;&nbsp;&nbsp;0x02</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_uart.html#gaad76d6dc4db10b6862efc837f53ea9ef">ZO_UART_ERROR_RX_PARITY_ERROR</a>&nbsp;&nbsp;&nbsp;0x03</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_uart.html#ga7f38cce7b00478a08f449052ff5c4974">ZO_UART_ERROR_RX_BUFFER_OVERFLOW</a>&nbsp;&nbsp;&nbsp;0x04</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_uart.html#gaa0f9a1cc937b28599b930249deb3775d">ZO_UART_ERROR_RX_DATA_OVERRUN</a>&nbsp;&nbsp;&nbsp;0x05</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_uart.html#gad80176f0360b6e3a83ca741f080330b0">ZO_UART_ERROR_TX_TIMEOUT</a>&nbsp;&nbsp;&nbsp;0x06</td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_uart.html#ga56ed5e5a2fda33291bba4c8e9a1626ee">ZO_UART_PARITY</a> { <a class="el" href="group__zo_uart.html#gga56ed5e5a2fda33291bba4c8e9a1626eeada900f38dc27ec2af26e3c288e4b8c1f">ZO_UART_PARITY_NONE</a> =  0x00, 
<a class="el" href="group__zo_uart.html#gga56ed5e5a2fda33291bba4c8e9a1626eea6a5d4c059513ffbd64cc1df438a444e2">ZO_UART_PARITY_ODD</a> =  0x30, 
<a class="el" href="group__zo_uart.html#gga56ed5e5a2fda33291bba4c8e9a1626eeaf07a14f1553e6cc88b014090238691a9">ZO_UART_PARITY_EVEN</a> =  0x20
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_uart.html#gac7974ad2aea5f405c4aa9e0472b4bb73">ZO_UART_DATA_BITS</a> { <br/>
&nbsp;&nbsp;<a class="el" href="group__zo_uart.html#ggac7974ad2aea5f405c4aa9e0472b4bb73a46e4f47c2df30d4ba223c55739b9806c">ZO_UART_DATA_BITS_5</a> =  0x00, 
<a class="el" href="group__zo_uart.html#ggac7974ad2aea5f405c4aa9e0472b4bb73abd8daa85107471bb559a9992080f24a5">ZO_UART_DATA_BITS_6</a> =  0x02, 
<a class="el" href="group__zo_uart.html#ggac7974ad2aea5f405c4aa9e0472b4bb73acc3d17c94e51af0aef83c15b02619d89">ZO_UART_DATA_BITS_7</a> =  0x04, 
<a class="el" href="group__zo_uart.html#ggac7974ad2aea5f405c4aa9e0472b4bb73a08dddf02f8be19354d9ef826c6bbeaf7">ZO_UART_DATA_BITS_8</a> =  0x06, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__zo_uart.html#ggac7974ad2aea5f405c4aa9e0472b4bb73aee6ff56537bc5ed0e9c89d3e93b15bce">ZO_UART_DATA_BITS_9</a> =  0x0E
<br/>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_uart.html#gacf2c140189701c31f5e7a3407c7b930b">ZO_UART_STOP_BITS</a> { <a class="el" href="group__zo_uart.html#ggacf2c140189701c31f5e7a3407c7b930baad6c4adac67ea00b7b134ec176ec0d8b">ZO_UART_STOP_BITS_1</a> = 0x00, 
<a class="el" href="group__zo_uart.html#ggacf2c140189701c31f5e7a3407c7b930ba123e2a13055201668329bb9b43352379">ZO_UART_STOP_BITS_2</a> = 0x80
 }</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__zo_types.html#ga6156fe0b594c9754f386f6c6a30c8165">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_uart.html#ga126ca20da0fa20fba3e26235017aa6b9">zoUartInit</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes the USART0 peripheral, byte storage etc. Always call this function prior to any other in this library file.  <a href="group__zo_uart.html#ga126ca20da0fa20fba3e26235017aa6b9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__zo_types.html#ga6156fe0b594c9754f386f6c6a30c8165">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_uart.html#gaea99efcf2183ee61d6a73c37964a3141">zoUartSetBaud</a> (<a class="el" href="group__zo_types.html#gafaa62991928fb9fb18ff0db62a040aba">u32</a> baudRate)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the uart baud rate in bits per second.  <a href="group__zo_uart.html#gaea99efcf2183ee61d6a73c37964a3141"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_uart.html#ga41dde243d206dac5e4c88c06d7a333db">zoUartSetDataBits</a> (<a class="el" href="group__zo_uart.html#gac7974ad2aea5f405c4aa9e0472b4bb73">ZO_UART_DATA_BITS</a> dataBits)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the uart frame data bits.  <a href="group__zo_uart.html#ga41dde243d206dac5e4c88c06d7a333db"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_uart.html#ga5c8ea36e821e5b0c3909fde15838f094">zoUartSetParity</a> (<a class="el" href="group__zo_uart.html#ga56ed5e5a2fda33291bba4c8e9a1626ee">ZO_UART_PARITY</a> parity)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the uart frame parity.  <a href="group__zo_uart.html#ga5c8ea36e821e5b0c3909fde15838f094"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_uart.html#gaaaa11834e9fc5294b87e777a3fba32ce">zoUartSetStopBits</a> (<a class="el" href="group__zo_uart.html#gacf2c140189701c31f5e7a3407c7b930b">ZO_UART_STOP_BITS</a> stopBits)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the uart frame stop bits.  <a href="group__zo_uart.html#gaaaa11834e9fc5294b87e777a3fba32ce"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_uart.html#ga700abbcdafeeae59ed1e469261f476bd">zoUartSetTransmitTimeOut</a> (<a class="el" href="group__zo_types.html#gace9d960e74685e2cd84b36132dbbf8aa">u16</a> miliseconds)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Configures the time that the MCU waits for a space in the transmit buffer.  <a href="group__zo_uart.html#ga700abbcdafeeae59ed1e469261f476bd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__zo_types.html#ga6156fe0b594c9754f386f6c6a30c8165">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_uart.html#ga002af3fe83db9b5720a10cdea7b3a802">zoUartSetBuffersSize</a> (<a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a> size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Configures the size of the transmit and the receive buffers.  <a href="group__zo_uart.html#ga002af3fe83db9b5720a10cdea7b3a802"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_uart.html#gaa29c227ca1a5201a83467422b24b325c">zoUartInitRs485</a> (volatile <a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a> *port, <a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a> pinConnectedToReDe)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Configure the port and pin connected to the RE/DE pin of a half-duplex RS485 onboard trancseiver (if one is used). For example if the RE/DE pin of such a device is connected on PORTD, PD2 then initialize its use like this:  <a href="group__zo_uart.html#gaa29c227ca1a5201a83467422b24b325c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__zo_types.html#ga6156fe0b594c9754f386f6c6a30c8165">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_uart.html#gafb955160c9ba50ac40f2877acadeb07e">zoUartPutChar</a> (const <a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a> c)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends a byte over uart. The byte is first put in the transmit buffer. The uart transmit ISR handles the actual transmission of the byte.  <a href="group__zo_uart.html#gafb955160c9ba50ac40f2877acadeb07e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__zo_types.html#ga6156fe0b594c9754f386f6c6a30c8165">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_uart.html#gae4aaebffbfa0801a00fc359d698a04c1">zoUartGetChar</a> (<a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a> *byte)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Receives a byte over uart. The byte is taken from the receive buffer. The uart receive ISR handles incoming data and puts them in the receive buffer.Usage example:  <a href="group__zo_uart.html#gae4aaebffbfa0801a00fc359d698a04c1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__zo_types.html#ga6156fe0b594c9754f386f6c6a30c8165">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_uart.html#ga666f40ed2bc6c0ccc859797215ed7407">zoUartPutString</a> (const char *buffer)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends a string over uart. The string must be terminated with a null.  <a href="group__zo_uart.html#ga666f40ed2bc6c0ccc859797215ed7407"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__zo_types.html#ga6156fe0b594c9754f386f6c6a30c8165">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_uart.html#ga305653993f2db5cf3be8e0ea65af823c">zoUartPutData</a> (const <a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a> *buffer, <a class="el" href="group__zo_types.html#ga6fb566012d3df25f99176f5b77c04693">u08</a> length)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends a byte buffer over uart.  <a href="group__zo_uart.html#ga305653993f2db5cf3be8e0ea65af823c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__zo_types.html#ga6156fe0b594c9754f386f6c6a30c8165">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_uart.html#ga13c242805415916e61aa1b3dacb009fd">zoUartTxBufferIsFull</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Checks if the transmit buffer is full.  <a href="group__zo_uart.html#ga13c242805415916e61aa1b3dacb009fd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__zo_types.html#ga6156fe0b594c9754f386f6c6a30c8165">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_uart.html#ga3c2d97d7b324798b97bc50978463827d">zoUartRxBufferIsEmpty</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Checks if the receive buffer is empty.  <a href="group__zo_uart.html#ga3c2d97d7b324798b97bc50978463827d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga16c3e5f6a520624fc8eb98e3ebeb02d4"></a><!-- doxytag: member="zoUart.h::zoUartRxFlush" ref="ga16c3e5f6a520624fc8eb98e3ebeb02d4" args="(void)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_uart.html#ga16c3e5f6a520624fc8eb98e3ebeb02d4">zoUartRxFlush</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Flushes (ie discards) all bytes in the receive buffer. <br/></td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaf9ebc6145cbce3b2afefe4c55277974e"></a><!-- doxytag: member="zoUart.h::zoUartError" ref="gaf9ebc6145cbce3b2afefe4c55277974e" args="" -->
<a class="el" href="struct_z_o___e_r_r_o_r.html">ZO_ERROR</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zo_uart.html#gaf9ebc6145cbce3b2afefe4c55277974e">zoUartError</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Error buffer used to store errors occuring during function or ISR execution. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Uart 0 function library. </p>
<p>File Name : Description : </p>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Mon Mar 22 16:32:12 2010 for 01 Mechatronics Avr Library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
