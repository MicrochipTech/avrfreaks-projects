<html>
	<head>
		<title>libavrutil - home</title>
	</head>
	<body>
		<div style="width: 60%; margin-left: auto; margin-right: auto; text-align: justify;">
			<ul style="list-style-type: none;">
				<li style="display: inline;"><a href="index.html">Home</a> |</li>
				<li style="display: inline;"><a href="building.html">Building</a> |</li>
				<li style="display: inline;"><a href="#">Analog operations</a> |</li>
				<li style="display: inline;"><a href="binary.html">Binary operations</a> |</li>
				<li style="display: inline;"><a href="delay.html">Delays</a> |</li>
				<li style="display: inline;"><a href="interrupt.html">Interrupts</a> |</li>
				<li style="display: inline;"><a href="sound.html">Sound</a> |</li>
				<li style="display: inline;"><a href="servo.html">Servos</a> |</li>
				<li style="display: inline;"><a href="usart.html">Serial port</a> |</li>
				<li style="display: inline;"><a href="pulse.html">Pulses</a> |</li>
				<li style="display: inline;"><a href="shift.html">Shift registers</a></li>
			</ul>
			<h2>libavrutil - Analog operations</h2>
			<hr />
			<p>Analog operations can be divided into two parts: input and output. Input is realised using the AVR's built-in ADC, output is done by writing a PWM signal to (hardware supported) ports of the MCU.</p>
			<p><strong><tt>void avr_adc_init()</tt></strong>: initializes the internal analog-digital converter, if any. Must be called before ADC-related functions (avr_analog_read(), avr_analog_ref_set(), avr_analog_ref_get()). Sets the analog reference to Vcc.</p>
			<p><strong><tt>void avr_analog_ref_set(uint8_t ref)</tt></strong>: Sets the analog reference using the macros <tt>AVR_ANALOG_REF_EXTERN</tt> (external voltage reference), <tt>AVR_ANALOG_REF_VCC</tt> (own power supply voltage as reference) or <tt>AVR_ANALOG_REF_INTERN</tt> (internal 2.56 Volt reference).</p>
			<p><strong><tt>uint8_t avr_analog_ref_get()</tt></strong>: Gets the current analog reference setting. Compare the result with the <tt>AVR_ANALOG_REF</tt> macros.</p>
			<p><strong><tt>uint16_t avr_analog_read()</tt></strong>: Reads the value of the analog-digital converter. Returns a value in the range 0...1023.</p>
			<p><strong><tt>void avr_pwm_init()</tt></strong>: Initializes the PWM generation mode on all timers, in 8-bit phase correct mode. Must be called before avr_analog_write().</p>
			<p><strong><tt>void avr_analog_write(uint16_t value)</tt></strong>: Writes a PWM signal with the duty cycle <tt>value</tt>, in the range 0...1023, 0 being always off, 1023 being always on, 511 (512) being 50%.</p>
			<p><strong><tt>void avr_analog_init()</tt></strong>: Initializes the ADC if available, and the PWM generation mode on all timers, in 8-bit phase correct mode, by calling avr_adc_init() and avr_pwm_init().</p>
		</div>
	</body>
</html>

